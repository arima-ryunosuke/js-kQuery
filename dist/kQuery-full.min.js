(()=>{var oe=Object.defineProperty;var h=(a,i)=>oe(a,"name",{value:i,configurable:!0});var $e=(a,i)=>{for(var e in i)oe(a,e,{get:i[e],enumerable:!0})};var K={};$e(K,{$CSSRuleList:()=>ie,$FileList:()=>_,$NodeList:()=>y,AsyncFunction:()=>re,AsyncGeneratorFunction:()=>ve,Collection:()=>W,Configuration:()=>k,CookieObserver:()=>F,CustomEvent:()=>U,Dictionary:()=>O,F:()=>d,FileReader:()=>B,GeneratorFunction:()=>we,IntersectionObserver:()=>V,Logger:()=>x,MutationObserver:()=>A,Nullable:()=>b,ObjectStorage:()=>H,Options:()=>D,Promise:()=>E,Proxy:()=>S,ResizeObserver:()=>C,Timer:()=>P,TimerObserver:()=>q,Vector2:()=>R,WeakMap:()=>w});var N=globalThis,re=(async()=>{}).constructor,we=function*(){}.constructor,ve=async function*(){}.constructor,b=h(function(i){return i==null},"Nullable"),O=h(function(i){return typeof i!="object"?!1:!Object.hasOwn(i,"entries")&&typeof i.entries=="function"||!Object.hasOwn(i,"keys")&&typeof i.keys=="function"||!Object.hasOwn(i,"values")&&typeof i.values=="function"||!Object.hasOwn(i,"length")&&"length"in i?!0:!(Symbol.iterator in i)},"Dictionary"),y=h(function(){return[NodeList.name,HTMLCollection.name]},"$NodeList"),ie=h(function(){return[CSSRuleList.name]},"$CSSRuleList"),_=h(function(){return[FileList.name]},"$FileList"),d={anyIsPrimitive(a,...i){if(a==null)return!0;for(let e of i){if(e===Object){if(d.objectIsPlain(a))return!0;continue}if(a instanceof e)return!0}return!["object","function"].includes(typeof a)},anyIsStringable(a){return d.anyIsPrimitive(a)?!0:a?.toString&&a.toString!==Object.prototype.toString},stringToKebabCase(a){return(""+a).replaceAll(/([A-Z])/g,(...i)=>"-"+i[1].toLowerCase())},stringToPascalCase(a,i){i??="-";let e=new RegExp(`(\\${i}([a-z]))`,"ig");return(""+a).replaceAll(e,(...s)=>s[2].toUpperCase())},stringEscape(a,i){let e={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"};switch(a+="",i){default:throw new Error(`${i} is undefied`);case"attr-name":{let s=document.createElement("div");return s.setAttribute(a,""),s.attributes[0].name}case"attr-value":return a.replace(/[&"]/g,s=>e[s]);case"content":return a.replace(/[&<>]/g,s=>e[s]);case"html":return a.replace(/[&"'<>]/g,s=>e[s]);case"regex":return a.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");case"css":case"selector":return CSS.escape(a)}},stringQuote(a,i){switch(a+="",i){default:throw new Error(`${i} is undefied`);case"css-url":return a.includes('"')?a.includes("'")?a.replaceAll(/([ '"()])/g,"\\$1"):"'"+a+"'":'"'+a+'"'}},stringUnquote(a,i){switch(a+="",i){default:throw new Error(`${i} is undefied`);case"css-url":return a.at(0)==='"'&&a.at(-1)==='"'?a.slice(1,-1):a.at(0)==="'"&&a.at(-1)==="'"?a.slice(1,-1).replaceAll(/\\'/g,"'"):a.replaceAll(/\\([ '"()])/g,"$1")}},stringIsNaN(a){return Number.isNaN(parseFloat(a))},stringRender:function(){let a={};return function(i,e,s=null){let t=h((o,...l)=>l.map(c=>s==null||c instanceof String?c:s(c)).map((c,u)=>o[u]+c).concat(o.slice(l.length)).join(""),"tagFunction"),n=`${s}\`${i}\``,r=a[n]??=new Function("",`return globalThis.$__internalTagFunctions.at(-1)\`${i}\`;`);N.$__internalTagFunctions??=[],N.$__internalTagFunctions.push(t);try{return r.call(e)}finally{N.$__internalTagFunctions.pop()}}}(),objectId:function(){let a=new N.WeakMap,i=0;return function(e){return e===null||typeof e!="object"?null:(a.has(e)||a.set(e,++i),a.get(e))}}(),objectFinalize:function(){let a=new FinalizationRegistry(i=>i());return function(i,e){a.register(i,e,i)}}(),objectIsPlain(a){return a==null||typeof a!="object"?!1:a.constructor===Object||a.constructor==null},objectIsArrayLike(a,i=!0){if(a instanceof Array)return!0;if(a==null||typeof a!="object")return!1;let e=Object.keys(a);if(!("length"in a)&&e.length===0)return!1;let s=a.length??(i?null:e.length);if(s==null)return!1;let t=e.indexOf("length");if(t!==-1&&e.splice(t,1),e.length!==+s)return!1;let n=e.map(r=>+r);for(let r=0;r<s;r++)if(n[r]!==r)return!1;return!0},objectToAttributes(a,i=""){let e={};for(let[s,t]of d.objectToEntries(a)){let n=i?`${i}-${s}`:s;if(n.startsWith("data-")&&(n=d.stringToKebabCase(n)),n==="style"&&d.objectIsPlain(t)){let r=[];for(let[o,l]of d.objectToEntries(t))r.push(d.stringToKebabCase(o)+":"+l);r.length&&(e[n]=r.join(";")+";")}else if(n==="class"){let r=[];for(let[o,l]of d.objectToEntries(d.objectToClasses(t)))l&&r.push(o);r.length&&(e[n]=r.join(" "))}else d.objectIsPlain(t)?Object.assign(e,d.objectToAttributes(t,s)):e[n]=t}return e},objectToClasses(a){let i=h(function(s){return(""+s).split(" ").filter(t=>t.length)},"normalizeToken"),e={};if(a instanceof Array)for(let s of a)Object.assign(e,d.objectToClasses(s));else if(d.objectIsPlain(a))for(let[s,t]of d.objectToEntries(a))for(let n of i(s))e[i(n)]=!!t;else for(let s of i(a))e[i(s)]=!0;return e},objectToDataset(a,i=""){let e={};for(let[s,t]of d.objectToEntries(a)){let n=d.stringToKebabCase(i?`${i}-${s}`:s);if(d.objectIsPlain(t)||t instanceof Array){for(let[r,o]of d.objectToEntries(d.objectToDataset(t,n)))e[r]=o;t instanceof Array&&(e[n+"-length"]=t.length)}else e[n]=t}return e},objectToEntries(a){return a instanceof NamedNodeMap?Array.from(a).map(i=>[i.name,i.value]):a instanceof CSSStyleDeclaration?Array.from(a).map(i=>[i,a[i]]):!Object.hasOwn(a,"entries")&&typeof a.entries=="function"?[...a.entries()]:!Object.hasOwn(a,"keys")&&typeof a.keys=="function"?[...Array.from(a.keys()).flatMap(i=>[[i,a[i]]])]:!Object.hasOwn(a,"values")&&typeof a.values=="function"?[...Array.from(a.values()).entries()]:!Object.hasOwn(a,"length")&&"length"in a?[...Array.from(a).entries()]:(Symbol.iterator in a,Object.entries(a))},objectToArrayEntries(a,i){let e=[];for(let[s,t]of d.objectToEntries(a)){let n=i?`${i}[${s}]`:s;if(t instanceof Array)for(let[r,o]of t.entries())d.objectIsPlain(o)?e=e.concat(d.objectToArrayEntries(o,`${n}[${r}]`)):e.push([`${n}[]`,o]);else d.objectIsPlain(t)?e=e.concat(d.objectToArrayEntries(t,n)):e.push([n,t])}return e},objectDeleteProperties(a,i){let e=Object.create(null);for(let[s,t]of d.objectToEntries(i)){let n=a[s]??t;delete a[s],t!=null&&(n=(()=>{switch(typeof t){case"boolean":return!!n;case"number":return+n;case"bigint":return 0n+n;case"string":return""+n;default:return t instanceof Array?n instanceof Array?n:[n]:n}})()),e[s]=n}return e},objectJoin(a,i,e="="){let s=[];for(let[t,n]of d.objectToEntries(a))if(n!==void 0)if(d.objectIsPlain(n)&&(n=d.objectJoin(n,i,e)),e instanceof Function){let r=e(n,t);r&&s.push(r)}else s.push(`${t}${e}${n}`);return s.join(i)},objectWalkRecursive(a,i){let e=i instanceof re,s=[];for(let[t,n]of d.objectToEntries(a)){let r=h(l=>a[t]=l,"assign"),o=n instanceof Array||d.objectIsPlain(n)?d.objectWalkRecursive(n,i):i(n,t,a);e?s.push(o.then(r)):r(o)}return e?E.all(s).then(t=>a):a},iterableToNodeList(a){a instanceof NodeList&&x.instance.notice("meaningless call to iterableToNodeList");let i=0,e={};for(let s of a)e[i++]={value:s,configurable:!1,writable:!1,enumerable:!0};return e.length={value:i,configurable:!1,writable:!1,enumerable:!1},Object.create(NodeList.prototype,e)},arrayLikeToArrayRecursive(a,i=!0){for(let[e,s]of d.objectToEntries(a))typeof s=="object"&&(a[e]=d.arrayLikeToArrayRecursive(s,i));return d.objectIsArrayLike(a,i)&&(i||"length"in a?a=Array.from(a):a=Object.values(a)),a},entriesToObject(a,i){let e={};for(let[s,t]of a)s.reduce((n,r,o)=>n[r]??=o+1 in s?{}:t,e);return i!=null?d.arrayLikeToArrayRecursive(e,i):e},functionIsNative(a){return Function.prototype.toString.call(a).slice(-15,-2)==="[native code]"},functionToCallbackable(a,i,...e){return function(...s){for(let[t,n]of s.entries()){let r=typeof n=="function"&&!(n instanceof S)?n:null;if(r&&(s[t]=r.call(i,...e),s[t]===void 0))return}return a.call(this,...s)}},...function(){let a=h(function(s,t){return s??={},s instanceof Headers||(s=new Headers(s)),window.location.origin===t.origin&&s.append("X-Requested-With","XMLHttpRequest"),s},"handleHeaders"),i=h(function(s,t){if(s.body){if((s.method??"GET").toUpperCase()==="GET")typeof s.body=="string"||s.body instanceof URLSearchParams||d.objectIsPlain(s.body)?t.searchParams.$assign(new URLSearchParams(s.body)):x.instance.error("GET, but a body is specified. fetch silently ignores the body"),delete s.body;else if(d.objectIsPlain(s.body))if(s.headers.get("content-type")?.startsWith("application/json"))s.body=JSON.stringify(s.body);else{let n=d.objectToArrayEntries(s.body);n.map(([r,o])=>o).find(r=>r instanceof Blob)?s.body=new FormData:s.body=new URLSearchParams;for(let[r,o]of n)s.body.append(r,o)}return s.body}},"handleBody"),e=h(function(s,t){let o=Math.floor(Math.random()*1e3);if(t<3){if(s instanceof Response&&s.headers.has("retry-after")){let l=s.headers.get("retry-after");return isNaN(l)?Math.max(1e3,new Date(l).getTime()-Date.now())+o:l*1e3+o}if(s instanceof Error||[503,504].includes(s.status))return Math.min(30*1e3,2**t*1e3)+o}return 0},"handleRetry");return{async fetch(s,t={}){s=new URL(s,window.location.href);let{ok:n,timeout:r,retryer:o}=d.objectDeleteProperties(t,{ok:!1,timeout:void 0,retryer:e});if(r){let c=new AbortController;setTimeout(()=>c.abort(),r),t.signal?t.signal=AbortSignal.any([t.signal,c.signal]):t.signal=c.signal}t.headers=a(t.headers,s),t.body=i(t,s);let l=0;for(;;){let c;try{c=await N.fetch(s,t)}catch(f){c=f}let u=o(c,l++);if(u){let f=c instanceof Error?c.message:`${c.status}: ${c.statusText}`;x.instance.warn(`retry ${s} ${l} ${f}, after ${u}ms`),await P.wait(u);continue}if(c instanceof Error)throw c.cause??={},c.cause.retryCount=l-1,c;if(!n&&!c.ok)throw c.retryCount=l-1,new Error(`${c.status}: ${c.statusText}`,{cause:c});return c}},async xhr(s,t){s=new URL(s,window.location.href),t=Object.assign({method:"GET",headers:{},body:null,credentials:"same-origin",timeout:0,ok:!1,signal:null,progress:h(()=>null,"progress")},t),t.headers=a(t.headers,s),t.body=i(t,s);let n=new XMLHttpRequest;n.open(t.method.toUpperCase(),s,!0),n.timeout=t.timeout,n.withCredentials=(r=>{switch(r){case"omit":return!1;case"same-origin":return window.location.origin===s.origin;case"include":return!0}})(t.credentials),n.responseType="arraybuffer",t.signal&&t.signal.addEventListener("abort",()=>{n.abort()});for(let[r,o]of d.objectToEntries(t.headers))n.setRequestHeader(r,o);return n.send(t.body),new E((r,o)=>{let l=h(function(){let c=new Response(n.response,{status:n.status,statusText:n.statusText,headers:n.getAllResponseHeaders().split(/\r\n?/).reduce(function(u,f){if(f.trim()){let[m,g]=f.split(":");u.append(m.trim(),g.trim())}return u},new Headers)});return Object.defineProperties(c,{url:{get(){return n.responseURL}}})},"newResponse");n.addEventListener("readystatechange",function(){n.readyState===XMLHttpRequest.HEADERS_RECEIVED&&!t.ok&&!(200<=n.status&&n.status<300)&&o(new Error(`${n.status}: ${n.statusText}`,{cause:l()}))}),n.addEventListener("load",()=>{r(l())}),n.addEventListener("error",c=>{o(c)}),n.addEventListener("abort",c=>{o(c)}),n.addEventListener("timeout",c=>{o(c)}),n.upload.addEventListener("progress",c=>{t.progress(c,t.body)})})}}}()},k=class a{static{h(this,"Configuration")}static TRUES=Object.freeze(["true","yes","1"]);static instance;#e;constructor(i){a.instance=this,this.#e=i}configure(i,e=!1){for(let[s,t]of Object.entries(i)){if(e||this.#e[s]===void 0){this[s]=t;continue}typeof t=="boolean"?this[s]=a.TRUES.includes(this.#e[s]):typeof t=="number"?this[s]=+this.#e[s]:typeof t=="string"?this[s]=""+this.#e[s]:typeof t=="function"?this[s]=t(this.#e[s],s,this.#e):this[s]=JSON.parse(this.#e[s])}return this}},x=class a{static{h(this,"Logger")}static instance;static anyIsInstanceOf(i,e){return!!(i===e||b===e&&e(i)||O===e&&e(i)||e===Object&&d.objectIsPlain(i)||e!==Object&&typeof e=="function"&&Object(i)instanceof e||e===Boolean&&d.anyIsPrimitive(i)||e===Number&&(Object(i)instanceof e||!isNaN(i))||e===String&&(Object(i)instanceof e||i?.toString&&i.toString!==Object.prototype.toString))}static anyToDisplayName(i){return i==null?""+i:typeof i=="function"?i.name??""+i:""+i}constructor(i,e,s,t){a.instance=this;let n=h(()=>null,"noop"),r=h(()=>n,"noop2");this.error=e<3?n:t.error.bind(this,s),this.warn=e<4?n:t.warn.bind(this,s),this.info=e<6?n:t.info.bind(this,s),this.debug=e<7?n:t.debug.bind(this,s),this.notice=e<5?n:i?t.warn.bind(this,s):t.info.bind(this,s),this.time=e<7?n:o=>t.time.call(this,`${s} ${o}`),this.timeEnd=e<7?n:o=>t.timeEnd.call(this,`${s} ${o}`),this.assert=i?(o,...l)=>{let c=l;return o instanceof Function&&(c=[""+o],o=o(...l)),t.assert.bind(this,o,s,...c)}:r,this.assertInstanceOf=i?(o,...l)=>{for(let c of l)if(a.anyIsInstanceOf(o,c))return n;return t.assert.bind(this,!1,s,`${a.anyToDisplayName(o)} type must be ${l.map(a.anyToDisplayName).join("|")}`)}:r,this.assertElementsInstanceOf=i?(o,...l)=>{for(let c of l)if(Object.values(o).every(u=>a.anyIsInstanceOf(u,c)))return n;return t.assert.bind(this,!1,s,`${a.anyToDisplayName(o)} type must be ${l.map(a.anyToDisplayName).join("|")}`)}:r,this.assertElementOf=i?(o,...l)=>{for(let c of l)if(c.includes(o))return n;return t.assert.bind(this,!1,s,`${a.anyToDisplayName(o)} must be one of ${l.map(a.anyToDisplayName).join("|")}`)}:r,this.assertElementsOf=i?(o,...l)=>{for(let c of l)if(Object.values(o).every(u=>c.includes(u)))return n;return t.assert.bind(this,!1,s,`${a.anyToDisplayName(o)} must be one of ${l.map(a.anyToDisplayName).join("|")}`)}:r}},W=class a extends null{static{h(this,"Collection")}constructor(i,e,s){s??=i;let t=Object.defineProperties(()=>{},{name:{value:`Collection of ${e}`},length:{value:i.length}});return k.instance.debug&&i.forEach((n,r)=>t[r]=n),new S(t,{has(n,r){return r in i?Reflect.has(i,r):(i.length===0&&x.instance.notice("Tried to manipulate empty list, but mostly a bug. Please check selectors etc. if not intended"),i.some(o=>Reflect.has(o,r)))},get(n,r){if(r in i)return Reflect.get(i,r);if(i.length===0&&x.instance.notice("Tried to manipulate empty list, but mostly a bug. Please check selectors etc. if not intended"),r===Symbol.toPrimitive)return l=>i.map(c=>d.anyIsPrimitive(c,Array)?c:Reflect.get(c,r)?.call(c,l)).join();let o=i.map(l=>d.anyIsPrimitive(l,Array)?l:Reflect.get(l,r));return o.every(l=>d.anyIsPrimitive(l,Object,Array))?o:new a(o,`${e}.${r}`,s)},set(n,r,o){return r in i?Reflect.set(i,r,o):(i.length===0&&x.instance.notice("Tried to manipulate empty list, but mostly a bug. Please check selectors etc. if not intended"),i.forEach((l,c)=>d.functionToCallbackable(u=>Reflect.set(l,r,u),l,s?.[c],c)(o)),!0)},deleteProperty(n,r){return r in i?Reflect.deleteProperty(i,r):(i.length===0&&x.instance.notice("Tried to manipulate empty list, but mostly a bug. Please check selectors etc. if not intended"),i.forEach(o=>Reflect.deleteProperty(o,r)),!0)},apply(n,r,o){if(i.length===0)return x.instance.notice("Tried to manipulate empty list, but mostly a bug. Please check selectors etc. if not intended"),[];if(i.some(l=>typeof l=="function")){let l=!1,c=!0,u=!0,f=!0,m=!1,g=i.map(($,T)=>{if(typeof $=="function"){if($ instanceof S&&o.length===0){l=!0;return}$ instanceof S||($.i=T);let p=Reflect.apply($,r?.[T],o);return c=c&&p===void 0,u=u&&d.anyIsPrimitive(p,Object,Array),f=f&&p===s?.[T],m=m||p instanceof N.Promise,p}});return l?i:c?r:u?g:f?s:m?N.Promise.all(g):new a(g,`${e}()`,s)}if(o.length===0)return i;o.length,x.instance.error("apply called, but not a single case was executed",n)}})}},w=class{static{h(this,"WeakMap")}constructor(){this.map=new N.Map}has(i){return this.map.has(d.objectId(i))}get(i){return this.map.get(d.objectId(i))?.value}getOrSet(i,e){return this.has(i)||this.set(i,e(i)),this.get(i)}set(i,e){return this.map.set(d.objectId(i),{ref:new WeakRef(i),value:e})}reset(i,e){let s=this.get(i);return this.set(i,e(s)),s}delete(i){return this.map.delete(d.objectId(i))}clear(){return this.map.clear()}*entries(){for(let i of this.map.values()){let e=i.ref.deref();if(e===void 0){this.map.delete(e);continue}yield[e,i.value]}}get size(){return[...this.entries()].length}},H=class{static{h(this,"ObjectStorage")}constructor(){this.weakmap=new w}has(i,e){if(e==null)return this.weakmap.has(i);let s=this.weakmap.get(i)??{};return e in s}get(i,e){return e==null?this.weakmap.get(i)??{}:(this.weakmap.get(i)??{})?.[e]}getOrSet(i,e,s){return this.has(i,e)||this.set(i,e,s(i,e)),this.get(i,e)}set(i,e,s){if(e==null)return this.weakmap.set(i,s);let t=this.weakmap.get(i)??{};return t[e]=s,this.weakmap.set(i,t)}reset(i,e,s){let t=this.get(i,e);return this.set(i,e,s(t)),t}delete(i,e){if(e==null)return this.weakmap.delete(i);let s=this.weakmap.get(i)??{};return delete s[e],Object.keys(s).length?!1:this.weakmap.delete(i)}clear(){return this.weakmap.clear()}*entries(){yield*this.weakmap.entries()}get size(){return this.weakmap.size}},E=class a extends N.Promise{static{h(this,"Promise")}static resolvedReasonSymbol=Symbol("resolved");static async#e(i,e,s=null){x.instance.assertElementsInstanceOf(i,Function,re)(),s??=window.navigator.hardwareConcurrency;let t=d.objectToEntries(i).map(([o])=>o),n=i instanceof Array?new Array(i.length):{},r=0;return await a.all(Array.from({length:s}).map(async()=>{for(;;){let o=t[r++];if(!i[o])return;try{n[o]=await i[o](o)}catch(l){if(e)throw l;n[o]=l}}})),n}static async concurrencyAll(i,e=null){return a.#e(i,!0,e)}static async concurrencyAllSettled(i,e=null){return a.#e(i,!1,e)}constructor(i){let e,s;super((o,l)=>{e=o,s=l});let t=h(o=>{this.status="fulfilled",e(o)},"resolve2"),n=h(o=>{this.status="rejected",s(o)},"reject2"),r=new AbortController;r.signal.addEventListener("abort",o=>{o.target.reason===a.resolvedReasonSymbol?t(this.resolved):n(o.target.reason)}),i(t,n),this.controller=r,this.resolved=null,this.status="pending"}cancel(i){this.resolved=i,this.controller.abort(a.resolvedReasonSymbol)}abort(i){this.controller.abort(i)}},B=class extends N.FileReader{static{h(this,"FileReader")}promise(){return new E((i,e)=>{this.addEventListener("load",s=>i(s.target.result)),this.addEventListener("error",s=>e(s.target.error))})}},S=class a extends null{static{h(this,"Proxy")}static instances=new WeakSet;static[Symbol.hasInstance](i){return a.instances.has(i)}constructor(i,e){let s=new N.Proxy(i,e);return a.instances.add(s),s}},P=class extends EventTarget{static{h(this,"Timer")}constructor(){super(),this.id=null,this.millisecond=null}static wait(i){let e=new this;return new E((s,t)=>{e.addEventListener("alarm",n=>s(Date.now()-n.detail.time)),e.start(i)}).finally(()=>e.stop())}start(i,e=1){x.instance.assert(this.id===null)("Timer is started, please use restart"),this.millisecond=i;let s=h((t,n)=>{this.id=setTimeout(()=>{this.dispatchEvent(new U("alarm",{detail:{id:this.id,tick:t,time:n}})),t<e&&s(t+1,Date.now())},this.millisecond)},"start");s(1,Date.now())}restart(i,e){return this.stop(),this.start(i,e)}stop(){clearTimeout(this.id),this.id=null}},D=class a{static{h(this,"Options")}constructor(i,e=!1,s=!1){this.options=i,this.handleNull=e,this.handleUndefined=s}extends(i){return new a(Object.assign({},this.options,i),this.handleNull,this.handleUndefined)}merge(i){let e={};for(let s of Object.keys(this.options))this.handleNull&&s in i&&i[s]===null||this.handleUndefined&&s in i&&i[s]===void 0?e[s]=i[s]:e[s]=i[s]??this.options[s];return e}},q=class a{static{h(this,"TimerObserver")}static observers=new N.Set;static timer=new P;static defaultOptions=new D({interval:1e3});constructor(i,e={}){this.options=a.defaultOptions.merge(e),this.observedNodes=new H,this.callback=s=>{let t=[];for(let[n,r]of this.observedNodes.entries()){let o=this._data(n),l=this._compare(r.data,o);this.observedNodes.set(n,"data",o);for(let c of l)t.push(Object.assign(c,{target:n,time:s.timeStamp}))}for(let n of t)i(n,this.observedNodes.reset(n.target,"last",()=>n))},a.timer.addEventListener("alarm",this.callback)}_data(i){}_compare(i,e){}observe(i){this.observedNodes.set(i,"data",this._data(i)),a.timer.restart(Math.min(a.timer.millisecond??this.options.interval,this.options.interval),1/0),a.observers.add(this)}unobserve(i){this.observedNodes.delete(i),this.observedNodes.size===0&&this.disconnect()}disconnect(){this.observedNodes.clear(),a.timer.removeEventListener("alarm",this.callback),a.observers.delete(this),a.observers.size===0&&a.timer.stop()}entries(){return this.observedNodes.entries()}},F=class a extends q{static{h(this,"CookieObserver")}static defaultOptions=q.defaultOptions.extends({cookieName:void 0});static getOptionsKey(i){return JSON.stringify(this.defaultOptions.merge(i))}constructor(i,e={}){super(i,e),this.options=a.defaultOptions.merge(e)}_data(i){return{cookie:i.cookie,cookies:Object.fromEntries(i.cookie.split("; ").map(e=>e.split(/=(.*)/s).map(decodeURIComponent)))}}_compare(i,e){if(i.cookie===e.cookie)return[];let s=new Set;Object.keys(i.cookies).forEach(n=>s.add(n)),Object.keys(e.cookies).forEach(n=>s.add(n));let t=[];for(let n of s.values())if(this.options.cookieName==null||this.options.cookieName.includes(n)){let r=i.cookies[n],o=e.cookies[n];r!==o&&t.push({cookieName:n,oldValue:r,newValue:o})}return t}},A=class a extends N.MutationObserver{static{h(this,"MutationObserver")}static defaultOptions=new D({attributes:void 0,attributeFilter:void 0,attributeOldValue:void 0,characterData:void 0,characterDataOldValue:void 0,childList:void 0,subtree:void 0});static getOptionsKey(i){return JSON.stringify(this.defaultOptions.merge(i))}constructor(i,e={}){super(function(s){for(let t of s)i(t,this.observedNodes.reset(t.target,()=>t))}),this.options=a.defaultOptions.merge(e),this.observedNodes=new w}observe(i){return this.observedNodes.set(i,null),super.observe(i,this.options)}unobserve(i){super.disconnect();for(let[e]of this.observedNodes.entries())e===i?this.observedNodes.delete(e):this.observe(e,this.options)}disconnect(){return this.observedNodes.clear(),super.disconnect()}entries(){return this.observedNodes.entries()}},C=class a extends N.ResizeObserver{static{h(this,"ResizeObserver")}static defaultOptions=new D({box:void 0});static getOptionsKey(i){return JSON.stringify(this.defaultOptions.merge(i))}constructor(i,e={}){super(function(s){for(let t of s)i(t,this.observedNodes.reset(t.target,()=>t))},e),this.options=a.defaultOptions.merge(e),this.observedNodes=new w}observe(i){return this.observedNodes.set(i,null),super.observe(i,this.options)}unobserve(i){return this.observedNodes.delete(i),super.unobserve(i)}disconnect(){return this.observedNodes.clear(),super.disconnect()}entries(){return this.observedNodes.entries()}},V=class a extends N.IntersectionObserver{static{h(this,"IntersectionObserver")}static defaultOptions=new D({root:void 0,rootMargin:void 0,threshold:void 0});static getOptionsKey(i){let e=new N.IntersectionObserver(()=>{},i),s={root:e.root,rootMargin:e.rootMargin,threshold:e.thresholds};return s.root=d.objectId(s.root),JSON.stringify(s)}constructor(i,e={}){e=a.defaultOptions.merge(e),super(function(s){for(let t of s)t.realIntersectionRatio=t.intersectionRatio,t.realIntersectionRatio===0&&t.isIntersecting&&(t.realIntersectionRatio=Number.EPSILON),i(t,this.observedNodes.reset(t.target,()=>t))},e),this.options=e,this.observedNodes=new w}observe(i){return this.observedNodes.set(i,null),super.observe(i)}unobserve(i){return this.observedNodes.delete(i),super.unobserve(i)}disconnect(){return this.observedNodes.clear(),super.disconnect()}entries(){return this.observedNodes.entries()}},U=class extends N.CustomEvent{static{h(this,"CustomEvent")}constructor(i,e){super(i,e),this.$original=e.$original}},R=class extends DOMPoint{static{h(this,"Vector2")}constructor(i,e,s){super(i,e),this.t=s}during(i){return i.t-this.t}deltaX(i){return i.x-this.x}deltaY(i){return i.y-this.y}distance(i){return Math.sqrt(this.deltaX(i)**2+this.deltaY(i)**2)}degree(i){let e=Math.atan2(this.deltaY(i),this.deltaX(i))*(180/Math.PI)+90;return e<0&&(e+=360),e}velocity(i){return this.distance(i)/this.during(i)}};var X=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){e.attributeName&&(e.attributeFilter=d.objectIsArrayLike(e.attributeName)?e.attributeName:[e.attributeName]),e=Object.assign(e,{attributes:!0,attributeOldValue:!0}),this.eventId=A.getOptionsKey(e),this.observer=this.constructor.observers[this.eventId]??=new A((t,n)=>{s(t.target,{subtype:t.attributeName,oldValue:t.oldValue,newValue:t.target.getAttribute(t.attributeName)},{$original:{observer:this.observer,entry:t}})},e),this.handlers={insert:h(t=>this.observer.observe(t),"insert"),delete:h(t=>this.observer.unobserve(t),"delete")}}};var G=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){let t=e.attributes;e=Object.assign(e,{childList:!0,attributes:!1}),this.eventId=A.getOptionsKey(e),this.observer=this.constructor.observers[this.eventId]??=new A((n,r)=>{for(let o of n.addedNodes)o instanceof Element&&(s(n.target,{subtype:"insert",node:o},{$original:{observer:this.observer,entry:n}}),this.constructor.observers["attribute"+this.eventId]?.observe?.(o));for(let o of n.removedNodes)o instanceof Element&&(s(n.target,{subtype:"remove",node:o},{$original:{observer:this.observer,entry:n}}),this.constructor.observers["attribute"+this.eventId]?.unobserve?.(o))},e),t&&(this.attributer=this.constructor.observers["attribute"+this.eventId]??=new A((n,r)=>{s(n.target.parentElement,{subtype:"change",node:n.target,name:n.attributeName,oldValue:n.oldValue,newValue:n.target.getAttribute(n.attributeName)},{$original:{observer:this.attributer,entry:n}})},{subtree:e.subtree,childList:!1,attributes:!0,attributeOldValue:!0})),this.handlers={insert:h(n=>this.observer.observe(n),"insert"),delete:h(n=>this.observer.unobserve(n),"delete")}}};var J=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){this.eventId=F.getOptionsKey(e),this.observer=this.constructor.observers[this.eventId]??=new F((t,n)=>{s(t.target,{subtype:t.cookieName,oldValue:t.oldValue,newValue:t.newValue},{$original:{observer:this.observer,entry:t},bubbles:!1,cancelable:!1,composed:!1})},e),this.observer.observe(a)}destructor(a){this.observer.unobserve(a)}};var Y=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){e=Object.assign(e,{attributes:!0,attributeOldValue:!0,attributeFilter:["disabled"]}),this.eventId=A.getOptionsKey(e),this.selector=i?`${i}, fieldset`:null,this.observer=this.constructor.observers[i+this.eventId]??=new A((t,n)=>{let r=h(o=>{let l=h(function(f,m){for(let g=f;g!=null;g=g.parentElement)if(m&&g===t.target){if(t.oldValue!=null)return!0}else if(g.disabled)return!0;return!1},"valuer"),c=l(o,!0),u=l(o,!1);c!==u&&s(o,{subtype:c?"enable":"disable",oldValue:c,newValue:u},{$original:{observer:this.observer,entry:t}})},"trigger2");(!i||t.target.matches(i))&&r(t.target),i&&t.target.querySelectorAll(i).forEach(o=>r(o))},e),this.handlers={insert:h(t=>this.observer.observe(t),"insert"),delete:h(t=>this.observer.unobserve(t),"delete")}}};var Z=class{static{h(this,"default")}constructor(a,i,e,s){e.buttons??=1,this.starting=!1,this.vectors=[],this.down=t=>{t.target.setPointerCapture(t.pointerId),this.starting=!0,this.vectors.splice(0)},this.move=t=>{t.buttons&e.buttons&&this.starting&&this.vectors.push(new R(t.offsetX,t.offsetY,t.timeStamp))},this.up=t=>{if(t.target.releasePointerCapture(t.pointerId),this.starting){if(this.starting=!1,this.vectors.length===0)return;let n=e.threshold??50,r=new R(t.offsetX,t.offsetY,t.timeStamp),o=1+this.vectors.findLastIndex(f=>f.during(r)>n),l=this.vectors[o],c=this.vectors.slice(o),u=c.slice(0,-1).reduce((f,m,g)=>f+c[g].distance(c[g+1]),0);if(u===0)return;this.vectors.splice(0),s(t.target,{velocity:u/l.during(r),degree:l.degree(r),during:l.during(r)},{$original:t,bubbles:!0})}},this.cancel=t=>{t.target.releasePointerCapture(t.pointerId),this.starting=!1,this.vectors.splice(0)},a.addEventListener("pointerdown",this.down),a.addEventListener("pointercancel",this.cancel),a.addEventListener("pointermove",this.move),a.addEventListener("pointerup",this.up)}destructor(a){a.removeEventListener("pointerdown",this.down),a.removeEventListener("pointercancel",this.cancel),a.removeEventListener("pointermove",this.move),a.removeEventListener("pointerup",this.up)}};var Q=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){e.first??=!0,this.eventId=V.getOptionsKey(e),this.observer=this.constructor.observers[this.eventId]??=new V((t,n)=>{if(e.first||n){let r=n?!n.isIntersecting&&t.isIntersecting?"enter":n.isIntersecting&&!t.isIntersecting?"leave":"hover":null;s(t.target,{subtype:r,oldValue:n?.realIntersectionRatio??null,newValue:t.realIntersectionRatio},{$original:{observer:this.observer,entry:t}})}},e),this.handlers={insert:h(t=>this.observer.observe(t),"insert"),delete:h(t=>this.observer.unobserve(t),"delete")}}};var ee=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){e.first??=!0,this.eventId=C.getOptionsKey(e),this.observer=this.constructor.observers[this.eventId]??=new C((t,n)=>{if(e.first||n){let r=d.stringToPascalCase(e.box??"content-box","-")+"Size";s(t.target,{subtype:e.box??"content-box",oldValue:n==null?null:n[r][0],newValue:t[r][0]},{$original:{observer:this.observer,entry:t}})}},e),this.handlers={insert:h(t=>this.observer.observe(t),"insert"),delete:h(t=>this.observer.unobserve(t),"delete")}}};var te=class{static{h(this,"default")}constructor(a,i,e,s){e.buttons??=1,this.firstVector=null,this.down=t=>{t.target.setPointerCapture(t.pointerId),this.firstVector=new R(t.offsetX,t.offsetY,t.timeStamp)},this.move=t=>{if(t.buttons&e.buttons&&this.firstVector){let n=new R(t.offsetX,t.offsetY,t.timeStamp),r=this.firstVector.distance(n);r!==0&&s(t.target,{distance:r,deltaX:this.firstVector.deltaX(n),deltaY:this.firstVector.deltaY(n),velocity:this.firstVector.velocity(n),degree:this.firstVector.degree(n),during:this.firstVector.during(n)},{$original:t,bubbles:!0})}},this.up=t=>{t.target.releasePointerCapture(t.pointerId),this.firstVector=null},this.cancel=t=>{t.target.releasePointerCapture(t.pointerId),this.firstVector=null},a.addEventListener("pointerdown",this.down),a.addEventListener("pointermove",this.move),a.addEventListener("pointerup",this.up),a.addEventListener("pointercancel",this.cancel)}destructor(a){a.removeEventListener("pointerdown",this.down),a.removeEventListener("pointermove",this.move),a.removeEventListener("pointerup",this.up),a.removeEventListener("pointercancel",this.cancel)}};var ne=class{static{h(this,"default")}static observers={};constructor(a,i,e,s){e.first??=!0,this.eventId=C.getOptionsKey(e),this.observer=this.constructor.observers[this.eventId]??=new C((t,n)=>{let r=t.contentRect.x>0||t.contentRect.y>0||t.contentRect.width>0||t.contentRect.height>0;(e.first||n)&&r!==n?.visible&&s(t.target,{subtype:"content-visibility",oldValue:n==null?null:!r,newValue:r},{$original:{observer:this.observer,entry:t}})},e),this.handlers={insert:h(t=>this.observer.observe(t),"insert"),delete:h(t=>this.observer.unobserve(t),"delete")}}};var se=class{static{h(this,"KQuery")}constructor(i){let e=this;this.API=K,this.config=new k(function(){if(d.objectIsPlain(i)&&!i.url)return i;let s={};if(i.url||i.src)for(let[t,n]of new URL(i.url||i.src).searchParams.entries())t.startsWith("kQuery-")&&(s[t.substring(7)]=n);if(i instanceof HTMLScriptElement){for(let[t,n]of d.objectToEntries(i.dataset))if(t.startsWith("kquery")){let r=t.substring(6);s[r.charAt(0).toLowerCase()+r.substring(1)]=n}}return s}()),this.config.configure({debug:!1,logLevel:0,global:"kQuery"}),globalThis[this.config.global]=this,this.logger=new x(this.config.debug,this.config.logLevel,"[kQuery]",globalThis.console)}extends(i){let e=this,s=i.name?i.name:i;this.logger.time(s);for(let[t,n]of Object.entries(i(e))){let r=Object.getOwnPropertyDescriptors(n);for(let o of Object.values(r))if(o.set){let l=o.set;(e.config.resetNative||!d.functionIsNative(l))&&(o.set=function(...c){return d.functionToCallbackable(l.bind(this),this,this)(...c)})}for(let o of t.split(","))if(o.charAt(0)==="$")for(let l of K[o]())for(let[c,u]of Object.entries(r))c!=="length"&&Object.defineProperty(globalThis[l].prototype,c,{get(){let f=d.objectToEntries(this).map(([m,g])=>g?.[c]);return f.length&&f.every(m=>d.anyIsPrimitive(m,Object,Array,FileList))?f:new W(f,c,this)},set(f){return d.objectToEntries(this).forEach(([m,g])=>{c in g&&d.functionToCallbackable($=>g[c]=$,this,g,m)(f)})},configurable:u.configurable,enumerable:u.enumerable});else Object.defineProperties(globalThis[o].prototype,r)}this.logger.timeEnd(s)}};function le(a){let i={EventTarget:["dispatchEvent"],Element:["computedStyleMap","elementTiming","getInnerHTML","onbeforecopy","onbeforecut","onbeforepaste","onfullscreenchange","onfullscreenerror","onsearch","scrollIntoViewIfNeeded"],HTMLAnchorElement:["attributionSrc","charset","coords","name","rev","shape"],HTMLAreaElement:["noHref"],HTMLBRElement:["clear"],HTMLBodyElement:["aLink","background","bgColor","link","onafterprint","onbeforeprint","onbeforeunload","onblur","onerror","onfocus","onhashchange","onlanguagechange","onload","onmessage","onmessageerror","onoffline","ononline","onpagehide","onpageshow","onpopstate","onrejectionhandled","onresize","onscroll","onstorage","onunhandledrejection","onunload","text","vLink"],HTMLDListElement:["compact"],HTMLDirectoryElement:["*"],HTMLDivElement:["align"],HTMLElement:["attributeStyleMap","editContext","onabort","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onbeforexrselect","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncommand","oncontentvisibilityautostatechange","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerrawupdate","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onscrollsnapchange","onscrollsnapchanging","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwheel","virtualKeyboardPolicy","writingSuggestions"],HTMLEmbedElement:["align","name"],HTMLFencedFrameElement:["*"],HTMLFontElement:["color","face","size"],HTMLFormElement:["requestAutocomplete"],HTMLFrameElement:["*"],HTMLFrameSetElement:["cols","onafterprint","onbeforeprint","onbeforeunload","onblur","onerror","onfocus","onhashchange","onlanguagechange","onload","onmessage","onmessageerror","onoffline","ononline","onpagehide","onpageshow","onpopstate","onrejectionhandled","onresize","onscroll","onstorage","onunhandledrejection","onunload","rows"],HTMLHRElement:["align","color","noShade","size","width"],HTMLHeadingElement:["align"],HTMLHtmlElement:["version"],HTMLIFrameElement:["adAuctionHeaders","align","allowPaymentRequest","credentialless","csp","featurePolicy","frameBorder","longDesc","marginHeight","marginWidth","privateToken","sharedStorageWritable","scrolling"],HTMLImageElement:["align","attributionSrc","border","fetchPriority","hspace","longDesc","name","sharedStorageWritable","vspace"],HTMLInputElement:["align","incremental","useMap","webkitdirectory"],HTMLLIElement:["type"],HTMLLegendElement:["align"],HTMLLinkElement:["charset","blocking","fetchPriority","rev","target"],HTMLMarqueeElement:["*"],HTMLMediaElement:["captureStream","controller","controlsList","disableRemotePlayback","mediaGroup","onencrypted","onwaitingforkey","remote","setSinkId","sinkId"],HTMLMenuElement:["compact"],HTMLMetaElement:["scheme"],HTMLOListElement:["compact"],HTMLObjectElement:["align","archive","border","code","codeBase","codeType","declare","hspace","standby","vspace"],HTMLParagraphElement:["align"],HTMLParamElement:["name","type","value","valueType"],HTMLPreElement:["width"],HTMLScriptElement:["attributionSrc","blocking","charset","event","fetchPriority"],HTMLStyleElement:["blocking","type"],HTMLTableCaptionElement:["align"],HTMLTableCellElement:["align","axis","bgColor","ch","chOff","height","noWrap","vAlign","width"],HTMLTableColElement:["align","ch","chOff","span","vAlign","width"],HTMLTableElement:["align","bgColor","border","cellPadding","cellSpacing","frame","rules","summary","width"],HTMLTableRowElement:["align","bgColor","ch","chOff","vAlign"],HTMLTableSectionElement:["align","ch","chOff","vAlign"],HTMLUListElement:["compact","type"],HTMLVideoElement:["cancelVideoFrameCallback","onenterpictureinpicture","onleavepictureinpicture","playsInline","requestPictureInPicture","requestVideoFrameCallback"]},e={Blob:["arrayBuffer","size","slice","stream","text","type"],Element:["after","animate","append","ariaActiveDescendantElement","ariaAtomic","ariaAutoComplete","ariaBrailleLabel","ariaBrailleRoleDescription","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColIndexText","ariaColSpan","ariaControlsElements","ariaCurrent","ariaDescribedByElements","ariaDescription","ariaDetailsElements","ariaDisabled","ariaErrorMessageElements","ariaExpanded","ariaFlowToElements","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLabelledByElements","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowIndexText","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","assignedSlot","attachShadow","attributes","before","checkVisibility","childElementCount","children","classList","className","clientHeight","clientLeft","clientTop","clientWidth","closest","currentCSSZoom","firstElementChild","getAnimations","getAttribute","getAttributeNS","getAttributeNames","getAttributeNode","getAttributeNodeNS","getBoundingClientRect","getClientRects","getElementsByClassName","getElementsByTagName","getElementsByTagNameNS","getHTML","hasAttribute","hasAttributeNS","hasAttributes","hasPointerCapture","id","innerHTML","insertAdjacentElement","insertAdjacentHTML","insertAdjacentText","lastElementChild","localName","matches","moveBefore","namespaceURI","nextElementSibling","outerHTML","part","prefix","prepend","previousElementSibling","querySelector","querySelectorAll","releasePointerCapture","remove","removeAttribute","removeAttributeNS","removeAttributeNode","replaceChildren","replaceWith","requestFullscreen","requestPointerLock","role","scroll","scrollBy","scrollHeight","scrollIntoView","scrollLeft","scrollTo","scrollTop","scrollWidth","setAttribute","setAttributeNS","setAttributeNode","setAttributeNodeNS","setHTMLUnsafe","setPointerCapture","shadowRoot","slot","tagName","toggleAttribute"],EventTarget:["addEventListener","removeEventListener","when"],File:["lastModified","lastModifiedDate","name"],HTMLAnchorElement:["download","hash","host","hostname","href","hreflang","origin","password","pathname","ping","port","protocol","referrerPolicy","rel","relList","search","target","text","toString","type","username"],HTMLAreaElement:["alt","coords","download","hash","host","hostname","href","origin","password","pathname","ping","port","protocol","referrerPolicy","rel","relList","search","shape","target","toString","username"],HTMLBaseElement:["href","target"],HTMLButtonElement:["checkValidity","command","commandForElement","disabled","form","formAction","formEnctype","formMethod","formNoValidate","formTarget","labels","name","popoverTargetAction","popoverTargetElement","reportValidity","setCustomValidity","type","validationMessage","validity","value","willValidate"],HTMLCanvasElement:["captureStream","getContext","height","toBlob","toDataURL","transferControlToOffscreen","width"],HTMLDataElement:["value"],HTMLDataListElement:["options"],HTMLDetailsElement:["name","open"],HTMLDialogElement:["close","closedBy","open","requestClose","returnValue","show","showModal"],HTMLElement:["accessKey","attachInternals","autocapitalize","autofocus","blur","click","contentEditable","dataset","dir","draggable","enterKeyHint","focus","hidden","hidePopover","inert","innerText","inputMode","isContentEditable","lang","nonce","offsetHeight","offsetLeft","offsetParent","offsetTop","offsetWidth","outerText","popover","showPopover","spellcheck","style","tabIndex","title","togglePopover","translate"],HTMLEmbedElement:["getSVGDocument","height","src","type","width"],HTMLFieldSetElement:["checkValidity","disabled","elements","form","name","reportValidity","setCustomValidity","type","validationMessage","validity","willValidate"],HTMLFormElement:["acceptCharset","action","autocomplete","checkValidity","elements","encoding","enctype","length","method","name","noValidate","rel","relList","reportValidity","requestSubmit","reset","submit","target"],HTMLIFrameElement:["allow","allowFullscreen","contentDocument","contentWindow","getSVGDocument","height","loading","name","referrerPolicy","sandbox","src","srcdoc","width"],HTMLImageElement:["alt","complete","crossOrigin","currentSrc","decode","decoding","height","isMap","loading","lowsrc","naturalHeight","naturalWidth","referrerPolicy","sizes","src","srcset","useMap","width","x","y"],HTMLInputElement:["accept","alt","autocomplete","checkValidity","checked","defaultChecked","defaultValue","dirName","disabled","files","form","formAction","formEnctype","formMethod","formNoValidate","formTarget","height","indeterminate","labels","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","popoverTargetAction","popoverTargetElement","readOnly","reportValidity","required","select","selectionDirection","selectionEnd","selectionStart","setCustomValidity","setRangeText","setSelectionRange","showPicker","size","src","step","stepDown","stepUp","type","validationMessage","validity","value","valueAsDate","valueAsNumber","width","willValidate"],HTMLLIElement:["value"],HTMLLabelElement:["control","form","htmlFor"],HTMLLegendElement:["form"],HTMLLinkElement:["as","crossOrigin","disabled","href","hreflang","imageSizes","imageSrcset","integrity","media","referrerPolicy","rel","relList","sheet","sizes","type"],HTMLMapElement:["areas","name"],HTMLMediaElement:["addTextTrack","autoplay","buffered","canPlayType","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","load","loop","muted","networkState","pause","paused","play","playbackRate","played","preload","preservesPitch","readyState","seekable","seeking","src","srcObject","textTracks","volume"],HTMLMetaElement:["content","httpEquiv","media","name"],HTMLMeterElement:["high","labels","low","max","min","optimum","value"],HTMLModElement:["cite","dateTime"],HTMLOListElement:["reversed","start","type"],HTMLObjectElement:["checkValidity","contentDocument","contentWindow","data","form","getSVGDocument","height","name","reportValidity","setCustomValidity","type","useMap","validationMessage","validity","width","willValidate"],HTMLOptGroupElement:["disabled","label"],HTMLOptionElement:["defaultSelected","disabled","form","index","label","selected","text","value"],HTMLOutputElement:["checkValidity","defaultValue","form","htmlFor","labels","name","reportValidity","setCustomValidity","type","validationMessage","validity","value","willValidate"],HTMLProgressElement:["labels","max","position","value"],HTMLQuoteElement:["cite"],HTMLScriptElement:["async","crossOrigin","defer","htmlFor","integrity","noModule","referrerPolicy","src","text","type"],HTMLSelectElement:["add","autocomplete","checkValidity","disabled","form","item","labels","length","multiple","name","namedItem","options","remove","reportValidity","required","selectedIndex","selectedOptions","setCustomValidity","showPicker","size","type","validationMessage","validity","value","willValidate"],HTMLSlotElement:["assign","assignedElements","assignedNodes","name"],HTMLSourceElement:["height","media","sizes","src","srcset","type","width"],HTMLStyleElement:["disabled","media","sheet"],HTMLTableCellElement:["abbr","cellIndex","colSpan","headers","rowSpan","scope"],HTMLTableElement:["caption","createCaption","createTBody","createTFoot","createTHead","deleteCaption","deleteRow","deleteTFoot","deleteTHead","insertRow","rows","tBodies","tFoot","tHead"],HTMLTableRowElement:["cells","deleteCell","insertCell","rowIndex","sectionRowIndex"],HTMLTableSectionElement:["deleteRow","insertRow","rows"],HTMLTemplateElement:["content","shadowRootClonable","shadowRootDelegatesFocus","shadowRootMode","shadowRootSerializable"],HTMLTextAreaElement:["autocomplete","checkValidity","cols","defaultValue","dirName","disabled","form","labels","maxLength","minLength","name","placeholder","readOnly","reportValidity","required","rows","select","selectionDirection","selectionEnd","selectionStart","setCustomValidity","setRangeText","setSelectionRange","textLength","type","validationMessage","validity","value","willValidate","wrap"],HTMLTimeElement:["dateTime"],HTMLTitleElement:["text"],HTMLTrackElement:["default","kind","label","readyState","src","srclang","track"],HTMLVideoElement:["disablePictureInPicture","getVideoPlaybackQuality","height","poster","videoHeight","videoWidth","width"],Node:["appendChild","baseURI","childNodes","cloneNode","compareDocumentPosition","contains","firstChild","getRootNode","hasChildNodes","insertBefore","isConnected","isDefaultNamespace","isEqualNode","isSameNode","lastChild","lookupNamespaceURI","lookupPrefix","nextSibling","nodeName","nodeType","nodeValue","normalize","ownerDocument","parentElement","parentNode","previousSibling","removeChild","replaceChild","textContent"]},s=a.config.debug?function(){let r=Object.create(null);for(let l of Object.keys(Object.getOwnPropertyDescriptors(globalThis))){if(!l.match(/^((EventTarget)|(Blob|File)|(Node|Element)|(HTML.*Element))$/))continue;let c=globalThis[l];for(let u in c.prototype)u.toUpperCase()!==u&&(u.match(/^(webkit|moz)[A-Z]/)||u.startsWith("onwebkit")||Object.prototype.hasOwnProperty.call(c.prototype,u)&&(l in i&&(i[l].includes(u)||i[l].includes("*"))||(r[c.name]=(r[c.name]??new Set).add(u))))}let o={};for(let l of Object.keys(r).toSorted())o[l]=[...r[l]].toSorted();return a.logger.debug(Object.keys(o).map(l=>`// https://developer.mozilla.org/docs/Web/API/${l}
${l}: ${JSON.stringify(o[l])},`).join(`
`)),o}():e;a.config.configure({appendNative:!0,resetNative:!0});let t=a.config.appendNative?{[[Node.name]]:{[Symbol.toPrimitive](){return this.outerHTML??this.nodeValue??null}},[[NodeList.name]]:{[Symbol.toPrimitive](){return[...this].join("")},dispatchEvent(r){let o=[];for(let l of this){let c=new r.constructor(r.type,r);o.push(l.dispatchEvent(c))}return o}},[[RadioNodeList.name]]:{get name(){return this[0]?.name},set name(r){[...this].forEach(function(o){o.name=r})}}}:{},n=h(function(r,o,l){t[r]??={},Object.defineProperty(t[r],o,l)},"defineProperty");for(let[r,o]of Object.entries(s))if(r in globalThis){let l=globalThis[r].prototype;for(let c of o){let u=Object.getOwnPropertyDescriptor(l,c);u&&(n(r,c,u),(globalThis[r]===globalThis.EventTarget||l instanceof EventTarget)&&n(y.name,c,u),(globalThis[r]===globalThis.Node||l instanceof Node)&&n(y.name,c,u),(globalThis[r]===globalThis.Blob||l instanceof Blob)&&n(_.name,c,u))}}return t}h(le,"autoproperties");function ce(a){a.config.configure({customEventPrefix:"$"}),Object.assign(a,{wellknownEvents:{click:PointerEvent},customEvents:{}});let i=new w,e=h(function(n,r){if(r==null){if(!n)throw new Error("Empty EventType is only allowed this context");return[[null,[]]]}return(""+r).trim().split(/\s+/).map(o=>o.trim().split(".")).map(([o,...l])=>{if(!n&&!o.length)throw new Error("Empty EventType is only allowed this context");return[o,l.filter(c=>c.length)]})},"eachType"),s=h(function(n){return n in a.customEvents&&(n=a.config.customEventPrefix+n),n},"internalEventName"),t=new class{constructor(){let n=h(function(r,o){let l=new Set;for(let c of r)if(c instanceof Element){c.matches(o)&&l.add(c);for(let u of c.querySelectorAll(o))l.add(u)}return l},"querySelectorThisAndAll");this.nodeSelectorCallback=new w,this.observer=new A(r=>{for(let[o,l]of this.nodeSelectorCallback.entries())for(let{selector:c,callbacks:u}of l){for(let f of n(r.addedNodes,c))a.logger.debug("Insert node to delegation emulation of ",o),u.insert(f);for(let f of n(r.removedNodes,c))a.logger.debug("Delete node to delegation emulation of ",o),u.delete(f)}},{attributes:!1,attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0})}watch(n,r,o){if(r==null)o.insert(n);else{this.nodeSelectorCallback.getOrSet(n,()=>[]).push({selector:r,callbacks:o});for(let l of n.querySelectorAll(r))a.logger.debug("Initial node to delegation emulation of ",l),o.insert(l);return this.observer.observe(n)}}unwatch(n,r,o){r==null?o.delete(n):this.nodeSelectorCallback.reset(n,l=>l.filter(c=>c.selector===r&&c.callbacks===o?(a.logger.debug("Unwatch node to delegation emulation of ",n),!1):!0))}};return{[[EventTarget.name,y.name]]:{$on(n,r,o,l){typeof r=="function"&&(l=o,o=r,r=null),l=Object.assign({once:void 0,capture:void 0,passive:void 0,signal:void 0,ownself:!1,interval:void 0,throttle:void 0,debounce:void 0,leading:void 0,trailing:void 0},l),a.logger.assertInstanceOf(n,String)(),a.logger.assertInstanceOf(r,b,String)(),a.logger.assertInstanceOf(o,Function)(),a.logger.assertInstanceOf(l,Object)(),r!=null&&l.capture&&a.logger.warn("Delegation of capture phase isn't tested, so might not work well"),l.throttle&&!l.debounce&&(l.leading??=!0,l.trailing??=!1),l.debounce&&!l.throttle&&(l.leading??=!1,l.trailing??=!0);for(let[c,u]of e(!1,n)){let f={type:c,namespaces:u,selector:r,listener:o,options:l,counter:new w,collectors:[]},m;!(this instanceof Window)&&c in a.customEvents&&(m=new a.customEvents[c](this,r,l,function(p,v={},I={}){m.bubbles="bubbles"in I,I.$original??={},I.$original.$eventId??=m.eventId,I.bubbles??=(m.selector??r)!=null,I.detail??=v,p.$trigger(c,I)}),m.handlers??={},m.handlers.insert??=p=>{},m.handlers.delete??=p=>{},t.watch(this,m.selector??r,m.handlers),f.collectors.push(()=>{t.unwatch(this,m.selector??r,m.handlers),m.destructor?.(this)}));let g=new H,$=h(async p=>{if(p.$namespaces?.length&&p.$namespaces.some(L=>!f.namespaces.includes(L))||m?.eventId!==p.$original?.$eventId)return;let v=p.target,I=h(async(L,M)=>{let z=P.wait(L),ae=g.reset(v,"timer",()=>z);return!((!M||ae?.status==="pending")&&(ae?.cancel(null),await z===null||!l.trailing))},"debounce");if(!(l.debounce!=null&&!await I(l.debounce,l.leading))){if(l.throttle!=null){if(g.getOrSet(v,"start",()=>Date.now()-(l.leading?l.throttle:0))+l.throttle>Date.now()&&!await I(l.throttle,!1))return;g.set(v,"start",Date.now())}if(p.$abort=L=>f.abortController.abort(L),f.selector==null)return f.listener.call(this,p);for(let L=v;L&&L!==this;L=L.parentElement){if(L.matches(f.selector)&&!(l.once&&f.counter.get(v)))return!f.counter.reset(v,M=>(M??0)+1)&&l.once&&m?.handlers?.delete?.(v),m&&!m.bubbles&&p.stopPropagation(),p.$delegateTarget=L,f.listener.call(this,p);if(l.ownself)break}}},"handler");f.handler=new WeakRef($),i.getOrSet(this,()=>[]).push(f);let T=f.selector==null?l:Object.assign({},l,{once:!1});f.abortController=new AbortController,f.abortController.signal.addEventListener("abort",f.destructor),T.signal?T.signal=AbortSignal.any([T.signal,f.abortController.signal]):T.signal=f.abortController.signal,this.addEventListener(s(c),$,T),f.destructor=function(){a.logger.debug("Release of ",c,r,l),f.collectors.forEach(p=>p()),f.collectors=[]},d.objectFinalize($,f.destructor)}return this},$off(n,r,o,l){typeof r=="function"&&(l=o,o=r,r=null),a.logger.assertInstanceOf(n,b,String)(),a.logger.assertInstanceOf(r,b,String)(),a.logger.assertInstanceOf(o,b,Function)(),a.logger.assertInstanceOf(l,b,Object)();for(let[c,u]of e(!0,n))i.reset(this,f=>(f??[]).filter(m=>c&&c!==m.type||u.length&&u.some(g=>!m.namespaces.includes(g))||r&&r!==m.selector||o&&o!==m.listener||l?.capture!==m.options.capture?!0:(this.removeEventListener(s(m.type),m.handler.deref(),m.options),m.destructor(),!1)));return this},$trigger(n,r={}){a.logger.assertInstanceOf(n,String)(),a.logger.assertInstanceOf(r,Object)();let o=!0;for(let[l,c]of e(!1,n)){let u=a.wellknownEvents[l]??U,f=new u(s(l),Object.assign({bubbles:!0,cancelable:!0,composed:!0},r));f.$namespaces=c;let m=this.dispatchEvent(f);a.logger.debug(`Event ${l} is ${m?"completed":"canceled"}`,this,f),o=o&&m}return o},$events(n,r,o=!1){a.logger.assertInstanceOf(n,b,String)(),a.logger.assertInstanceOf(r,b,Boolean)(),a.logger.assertInstanceOf(o,Boolean)();let l=i.get(this)??[];if(r)for(let c=this.parentNode;c;c=c.parentNode)for(let u of i.get(c)??[])u.selector!=null&&this.matches(u.selector)&&(u.options.once&&u.counter.get(this)||l.push(u));return l.filter(c=>{if(!c.handler.deref())return!1;for(let[u,f]of e(!0,n))if(u&&u!==c.type||f.length&&f.some(m=>!c.namespaces.includes(m)))return!1;return o===(c.options.capture??!1)})}}}}h(ce,"events");function ue(a){let i=new H;class e{static{h(this,"ProxyProperty")}static NotImplemented=Symbol("NotImplemented");constructor(t,n){this.node=t,this.name=n,this.object=t[n]}has(t,n){return this._hasValue(n)}_hasValue(t){return Reflect.has(this.object,t)}get(t,n){if(n===Symbol.toPrimitive||n==="toString")return()=>this._getString();if(n.charAt(0)==="$"){let o=this._get$Value(n.substring(1));if(o!==e.NotImplemented)return o}let r=Reflect.get(this.object,n);return typeof r=="function"?this._getFunction(n,r):this._getValue(n,r)}_getString(){}_get$Value(t){return e.NotImplemented}_getFunction(t,n){let r=h((...o)=>{let l=d.functionToCallbackable(n,this.node,this.node,r.i).call(this.object,...o);return l===void 0?i.get(this.node,this.name):l},"method");return r}_getValue(t,n){return n}set(t,n,r){return typeof r=="function"&&(r=this._setFunction(n,r)),n.charAt(0)==="$"&&this._set$Value(n.substring(1),r)!==e.NotImplemented||this._setValue(n,r),!0}_set$Value(t,n){return e.NotImplemented}_setFunction(t,n){return n.call(this.object,this.node)}_setValue(t,n){n!==void 0&&this.apply(null,null,[{[t]:n}])}deleteProperty(t,n){let r=Reflect.get(this.object,n);return this._deleteValue(n,r),!0}_deleteValue(t,n){Reflect.deleteProperty(this.object,t)}apply(t,n,r){return r[0]instanceof Array||d.objectIsPlain(r[0])?(this._applySet(...r),i.get(this.node,this.name)):this._applyGet(...r)}_applyGet(...t){}_applySet(...t){}}return{[[Element.name,y.name]]:{get $attrs(){return i.getOrSet(this,"attributes",(s,t)=>new S(h(function(){},"$Attrs"),new class extends e{_getString(){return Object.values(s.attributes).map(n=>`${d.stringEscape(n.name,"attr-name")}="${d.stringEscape(n.value,"attr-value")}"`).join(" ")}_get$Value(n){return s.closest(`[${d.stringEscape(n,"css")}]`)?.getAttribute(n)??null}_getValue(n,r){return r?.value}_deleteValue(n,r){s.removeAttribute(n)}_applyGet(){return Object.fromEntries(Array.from(s.attributes,n=>[n.name,n.value]))}_applySet(n){let r=d.objectToAttributes(n);for(let[o,l]of Object.entries(r))typeof l=="boolean"?s.toggleAttribute(o,l):s.setAttribute(o,l)}}(s,t)))},set $attrs(s){if(a.logger.assertInstanceOf(s,b,O)(),s!=null){for(let t of Object.values(this.attributes))this.attributes.removeNamedItem(t.name);this.$attrs(s)}},get $data(){return i.getOrSet(this,"dataset",(s,t)=>new S(h(function(){},"$Data"),new class extends e{_getString(){return JSON.stringify(this.apply(null,null,[""]))}_get$Value(n){return this._applyGet(n)}_applyGet(n){let r={};for(let[m,g]of Object.entries(s.dataset))r[m]=g;if(typeof n!="string")return r;let o=d.stringToKebabCase(n),l=new RegExp(o?`^${n}[A-Z]`:".*"),c={};for(let[m,g]of Object.entries(r))l.test(m)&&(c[d.stringToKebabCase(m)]=g);if(Object.keys(c).length===0&&n in s.dataset)try{return JSON.parse(s.dataset[n])}catch{}let u=Object.entries(c).map(([m,g])=>[m.split("-"),g]),f=d.entriesToObject(u,!0);return o?o.split("-").reduce((m,g)=>m?.[g],f)??{}:f}_set$Value(n,r){s.dataset[n]=JSON.stringify(r)}_applySet(n){for(let[r,o]of Object.entries(d.objectToDataset(n)))s.dataset[d.stringToPascalCase(r)]=o}}(s,t)))},set $data(s){if(a.logger.assertInstanceOf(s,b,O)(),s!=null){for(let t of Object.keys(this.dataset))delete this.dataset[t];this.$data(s)}},get $class(){return i.getOrSet(this,"classList",(s,t)=>new S(h(function(){},"$Class"),new class extends e{_hasValue(n){return s.classList.contains(n)}_getString(){return s.classList.value}_getValue(n,r){return s.classList.contains(n)}_deleteValue(n,r){s.classList.remove(n)}_applyGet(){return[...s.classList.values()]}_applySet(n){for(let[r,o]of d.objectToEntries(d.objectToClasses(n)))s.classList.toggle(r,o)}}(s,t)))},set $class(s){a.logger.assertInstanceOf(s,b,String,O,Array)(),s!=null&&(this.classList.value="",this.$class(s))}},[[Element.name,CSSStyleRule.name,y.name,ie.name]]:{get $style(){return i.getOrSet(this,"style",(s,t)=>new S(h(function(){},"$Style"),new class extends e{_hasValue(n){return!!Reflect.get(s.style,n)}_getString(){return s.style.cssText}_get$Value(n){let[r,o]=n.split("::");o=o?`::${o}`:null;let l=s.$window.getComputedStyle(s,o);return r.length?l.getPropertyValue(d.stringToKebabCase(r)):l}_getValue(n,r){return n.startsWith("--")?s.style.getPropertyValue(d.stringToKebabCase(n)):r||r===void 0?r:null}_deleteValue(n,r){s.style.removeProperty(d.stringToKebabCase(n))}_applyGet(n){let r={};for(let o=0;;o++){let l=s.style[o];if(!l)break;if(n===!0){let c=s.style.getPropertyPriority(l);r[l]=s.style.getPropertyValue(l)+(c?`!${c}`:"")}else r[l]=s.style.getPropertyValue(l)}return r}_applySet(n){for(let[r,o]of d.objectToEntries(n)){let l=""+o,c=l.replace(/!important$/,"");s.style.setProperty(d.stringToKebabCase(r),c,l===c?"":"important")}}}(s,t)))},set $style(s){a.logger.assertInstanceOf(s,b,O)(),s!=null&&(this.style.cssText="",this.$style(s))}}}}h(ue,"attributes");function de(a){let i=new w,e=new w;return{[[URL.name]]:{$assign(s){a.logger.assertInstanceOf(s,O)();for(let[t,n]of d.objectToEntries(s))t==="searchParams"?this[t].$assign(n):t in this&&(this[t]=n);return this},$replace(s){return a.logger.assertInstanceOf(s,O)(),new URL(this).$assign(s)},$params(s){return a.logger.assertInstanceOf(s,O)(),this.$assign({searchParams:s})}},[[URLSearchParams.name]]:{$appendFromEntries(s){for(let[t,n]of d.objectToArrayEntries(s))this.append(t,n);return this},$assign(s){a.logger.assertInstanceOf(s,O)();for(let[t,n]of d.objectToEntries(s))if(n==null)this.delete(t);else if(n instanceof Array){this.delete(t);for(let r of n)this.append(t,r)}else this.set(t,n);return this},$clear(){for(let s of[...this.keys()])this.delete(s);return this}},[[Document.name]]:{get $URL(){return new URL(this.URL,this.baseURI)},get $cookie(){return e.getOrSet(this,s=>new S(h(function(){},"$Cookie"),{has(t,n){return this.get(t,n)!=null},get(t,n){if(n===Symbol.toPrimitive||n==="toString")return()=>s.cookie;if(n==="$defaultAttributes")return o=>o?(this.set(t,n,Object.assign(t.$defaultAttributes,o)),e.get(s)):t.$defaultAttributes??{};let r=s.cookie.split(/; ?/);for(let o of r){let[l,c]=o.split(/=(.*)/s).map(decodeURIComponent);if(l===n)return c}},set(t,n,r){if(n==="$defaultAttributes")return a.logger.assertInstanceOf(r,Object)(),r.expires&&a.logger.warn("Should not specify expire as the default value, because Absolute time and may be an unintended value at the time of actual use"),t.$defaultAttributes=r,!0;r==null&&(r={value:"",maxAge:-1});let o=Object.assign({domain:"",path:"/",secure:s.defaultView.isSecureContext,sameSite:"lax"},t.$defaultAttributes);d.objectIsPlain(r)&&(Object.assign(o,r),r=r.value??r[""]),delete o.value,delete o[""],a.logger.assertInstanceOf(o.maxAge,b,Number)(),a.logger.assertInstanceOf(o.expires,b,Date)();let l=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;return o.domain&&(l+=`; domain=${o.domain}`),o.path&&(l+=`; path=${o.path}`),o.secure&&(l+="; secure"),o.sameSite&&(l+=`; samesite=${o.sameSite}`),o.maxAge&&(l+=`; max-age=${+o.maxAge}`),o.expires&&(l+=`; expires=${o.expires.toUTCString()}`),s.cookie=l,!0},deleteProperty(t,n){return this.set(t,n,null),!0},apply(t,n,r){if(d.objectIsPlain(r[0]))for(let[o,l]of d.objectToEntries(r[0]))this.set(t,o,l);return Object.fromEntries(s.cookie.split(/; ?/).map(o=>o.split(/=(.*)/s).map(decodeURIComponent)))}}))},set $cookie(s){if(a.logger.assertInstanceOf(s,b,O)(),s!=null){for(let[t]of d.objectToEntries(this.$cookie()))this.$cookie[t]=null;this.$cookie(s)}}},[[Node.name,y.name]]:{get $bag(){let s={};return i.getOrSet(this,()=>new S(h(function(){},"$Bag"),{has(t,n){return Reflect.has(s,n)},get(t,n){return n===Symbol.toPrimitive||n==="toString"?()=>JSON.stringify(s):Reflect.get(s,n)},set(t,n,r){return Reflect.set(s,n,r),!0},deleteProperty(t,n){return Reflect.deleteProperty(s,n),!0},apply(t,n,r){return d.objectIsPlain(r[0])&&Object.assign(s,r[0]),s}}))},set $bag(s){if(a.logger.assertInstanceOf(s,b,O)(),s==null)return;let t=this.$bag;for(let n of Object.keys(t()))delete t[n];t(s)}},[[HTMLStyleElement.name,HTMLLinkElement.name,y.name]]:{async $contents(s=!0){let t;if(this instanceof HTMLLinkElement?t=await(await d.fetch(this.href)).text():t=this.textContent,s){let n=/url\(((['"])?.+?\2?)\)/g,r=h(c=>(c=d.stringUnquote(c,"css-url"),c.charAt(0)==="#"?null:new URL(c,this.href)),"normalize"),o={};for(let[,c]of t.matchAll(n)){let u=r(c);u&&(o[u]??=async f=>{let m=await d.fetch(f).catch(g=>({ok:!1}));return m.ok?(await m.blob()).$dataURL():null})}let l=await E.concurrencyAll(o,6);t=t.replace(n,(c,u)=>{let f=r(u);return f&&l[f]?"url("+d.stringQuote(l[f]+f.hash,"css-url")+")":c})}return t}},[[HTMLScriptElement.name,y.name]]:{async $contents(){let s;return this.src?s=await(await d.fetch(this.src)).text():s=this.textContent,s}},[[HTMLImageElement.name,y.name]]:{get $URL(){return new URL(this.src,this.baseURI)},set $URL(s){this.src=s},async $contents(){let s=new URL(this.currentSrc,this.baseURI),t=await d.fetch(s),n=await t.blob();return new File([n],s.pathname.split("/").at(-1)??this.currentSrc,{type:n.type,...t.headers.has("last-modified")?{lastModified:new Date(t.headers.get("last-modified")).getTime()}:{}})},async $dataURL(s,t){return a.logger.assertInstanceOf(s,b,String)(),a.logger.assertInstanceOf(t,b,Number)(),new E(n=>{let r=this.$document.createElement("canvas");r.width=this.width,r.height=this.height,r.getContext("2d").drawImage(this,0,0),n(r.toDataURL(s,t))})},async $blob(s,t){return a.logger.assertInstanceOf(s,b,String)(),a.logger.assertInstanceOf(t,b,Number)(),new E(n=>{let r=this.$document.createElement("canvas");r.width=this.width,r.height=this.height,r.getContext("2d").drawImage(this,0,0),r.toBlob(n,s,t)})},async $file(s,t){a.logger.assertInstanceOf(s,b,String)(),a.logger.assertInstanceOf(t,b,Number)();let n=new URL(this.currentSrc,this.baseURI);return new File([await this.$blob(s,t)],n.pathname.split("/").at(-1)??this.currentSrc,{type:s})}},[[HTMLAnchorElement.name,y.name]]:{get $URL(){return new URL(this.href,this.baseURI)},set $URL(s){this.href=s}},[[HTMLFormElement.name,y.name]]:{get $URL(){return new URL(this.action,this.baseURI)},set $URL(s){this.action=s}},[[Blob.name,_.name]]:{$download(s){a.logger.assertInstanceOf(s,b,String)(),s??=this.name??"";let t=URL.createObjectURL(this);document.$createElement("a",{href:t,download:s}).click(),setTimeout(function(){URL.revokeObjectURL(t)},1e3)},async $text(s){return a.logger.assertInstanceOf(s,b,String)(),new TextDecoder(s).decode(await this.arrayBuffer())},async $hash(s){a.logger.assertInstanceOf(s,String)();let t=await this.arrayBuffer(),n=await crypto.subtle.digest(s,t),r=new Uint8Array(n);return Array.from(r).map(l=>l.toString(16).padStart(2,"0")).join("")},async $base64(){let s=await this.$dataURL();return s.substring(s.indexOf(",")+1)},async $dataURL(s){a.logger.assertInstanceOf(s,b,String)();let t=s?this.slice(0,this.size,s):this,n=new B;return n.readAsDataURL(t),n.promise()}},[[Storage.name]]:{$getJson(s){let t=this.getItem(s);return t===null?void 0:JSON.parse(t)},$setJson(s,t){return this.setItem(s,JSON.stringify(t)),this},*$entries(){for(let s=0;s<this.length;s++){let t=this.key(s),n=this.getItem(t);yield[t,n]}}}}}h(de,"data");function fe(a){let i=h(function(e){let s=e.getAttribute("style");try{let t=e.$window.getComputedStyle(e),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight),r=parseFloat(t.marginTop)+parseFloat(t.marginBottom);e.style.setProperty("box-sizing","content-box","important"),e.style.setProperty("overflow","hidden","important");let o=e.getBoundingClientRect(),l=o.width,c=o.height;e.style.setProperty("border","none","important");let u=l-e.offsetWidth,f=c-e.offsetHeight;l-=u,c-=f,e.style.setProperty("padding",0,"important");let m=l-e.offsetWidth,g=c-e.offsetHeight,$=e.scrollWidth,T=e.scrollHeight;l-=m,c-=g;let p=e.clientWidth,v=e.offsetHeight;e.style.setProperty("overflow","scroll","important");let I=p-e.clientWidth,L=e.offsetHeight-v;return l-=I,{marginWidth:n,borderWidth:u,paddingWidth:m,scrollbarWidth:I,contentWidth:l,marginHeight:r,borderHeight:f,paddingHeight:g,scrollbarHeight:L,contentHeight:c}}finally{s==null?e.removeAttribute("style"):e.setAttribute("style",s)}},"boxsize");return{[[Document.name]]:{get $topLayerElement(){let e=this.$$(":modal, :popover-open, :fullscreen");if(e.length<=1)return e[0]??null;for(let s of e)if(s===this.elementFromPoint(0,0))return s;return null},get $modalElement(){let e=this.querySelectorAll(":modal"),s=this.elementFromPoint(0,0);return Array.prototype.find.call(e,t=>t===s)??null}},[[HTMLElement.name,y.name]]:{$cssPixel(e){if(a.logger.assertInstanceOf(e,Number,String)(),typeof e=="number")return e;let s=parseFloat(e);switch(e.replace(/^-?[0-9.]+/,"")){case"":return s;case"px":return s*1;case"in":return s*96;case"pc":return s*96/6;case"pt":return s*96/6/12;case"cm":return s*96/2.54;case"mm":return s*96/2.54/10;case"Q":return s*96/2.54/10/4}let n=this.getAttribute("style");try{return this.style.marginBottom=e,parseFloat(this.$window.getComputedStyle(this).marginBottom)}finally{n==null?this.removeAttribute("style"):this.setAttribute("style",n)}},$offset(e={}){e=Object.assign({relative:!1,margin:!1},e),a.logger.assertInstanceOf(e,Object)();let s=0,t=0;if(!e.margin){let r=this.$window.getComputedStyle(this);s=parseFloat(r.marginLeft),t=parseFloat(r.marginTop)}if(e.relative)return{left:this.offsetLeft-s,top:this.offsetTop-t};let n=this.getBoundingClientRect();return{left:n.left+window.scrollX-document.documentElement.clientLeft-s,top:n.top+window.scrollY-document.documentElement.clientTop-t}},$size(e={}){typeof e=="string"&&(e={"":{scrollbar:!0},client:{padding:!0},inner:{padding:!0,scrollbar:!0},offset:{padding:!0,border:!0},outer:{padding:!0,border:!0,scrollbar:!0},margin:{padding:!0,border:!0,margin:!0,scrollbar:!0}}[e]),a.logger.assertInstanceOf(e,Object)(),e=Object.assign({scroll:!1,margin:!1,border:!1,padding:!1,scrollbar:!1},e);let s=i(this),t=e.scroll?this.scrollWidth:s.contentWidth,n=e.scroll?this.scrollHeight:s.contentHeight;return e.margin&&(t+=s.marginWidth,n+=s.marginHeight),e.border&&(t+=s.borderWidth,n+=s.borderHeight),e.padding&&(t+=s.paddingWidth,n+=s.paddingHeight),e.scrollbar&&!e.scroll&&(t+=s.scrollbarWidth,n+=s.scrollbarHeight),{width:t,height:n}},$width(e={}){if(typeof e=="number"||typeof e=="string"){d.stringIsNaN(e)&&a.logger.error(`options(${e}) is NaN`);let s=this.$cssPixel(e);if(this.$window.getComputedStyle(this).boxSizing!=="border-box"){let n=i(this);s-=n.borderWidth+n.paddingWidth}return this.style.width=s+"px",s}return this.$size(e).width},$height(e={}){if(typeof e=="number"||typeof e=="string"){d.stringIsNaN(e)&&a.logger.error(`options(${e}) is NaN`);let s=this.$cssPixel(e);if(this.$window.getComputedStyle(this).boxSizing!=="border-box"){let n=i(this);s-=n.borderHeight+n.paddingHeight}return this.style.height=s+"px",s}return this.$size(e).height},$scrollParent(e={height:!0,width:!0}){return a.logger.assertInstanceOf(e,Object)(),e.height&&this.scrollHeight>this.clientHeight?this:e.width&&this.scrollWidth>this.clientWidth?this:this.parentElement?.$scrollParent(e)??null},get $visible(){return this.$checkVisibility(!0)},$checkVisibility(e={},s=!1){if(typeof e=="boolean"&&(s=e,e={}),e=Object.assign({document:s,contentVisibilityAuto:s,contentVisibilityProperty:s,opacityProperty:s,visibilityProperty:s,size:s,intersection:s},e),e.document&&this.$document.hidden||this.checkVisibility&&!this.checkVisibility(e))return!1;for(let r=this;r;r=r.parentElement){let o=r.$window.getComputedStyle(r);if(o.display==="none"||o.display==="content"||e.contentVisibilityProperty&&o.contentVisibility==="hidden"||e.visibilityProperty&&o.visibility==="hidden"||e.opacityProperty&&o.opacity==="0")return!1}let t=this.getBoundingClientRect(),n=t.width*t.height;if(e.size&&!n)return!1;if(e.intersection&&n){let r=this.getAttribute("style");try{if(this.style.setProperty("pointer-event","auto","important"),!this.contains(this.$document.elementFromPoint(t.left,t.top))&&!this.contains(this.$document.elementFromPoint(t.right,t.top))&&!this.contains(this.$document.elementFromPoint(t.left,t.bottom))&&!this.contains(this.$document.elementFromPoint(t.right,t.bottom)))return!1}finally{r==null?this.removeAttribute("style"):this.setAttribute("style",r)}}return!0}},[[DOMRectReadOnly.name]]:{$contains(e){if(e instanceof DOMPointReadOnly)return this.left<=e.x&&e.x<=this.right&&this.top<=e.y&&e.y<=this.bottom;if(e instanceof DOMRectReadOnly)return this.$contains(new DOMPoint(e.left,e.top))&&this.$contains(new DOMPoint(e.right,e.top))&&this.$contains(new DOMPoint(e.left,e.bottom))&&this.$contains(new DOMPoint(e.right,e.bottom));throw new Error(`Unknown type(${e.constructor.name})`)},$intersects(e){if(e instanceof DOMPointReadOnly)return this.left<=e.x&&e.x<=this.right&&this.top<=e.y&&e.y<=this.bottom;if(e instanceof DOMRectReadOnly)return this.$intersects(new DOMPoint(e.left,e.top))||this.$intersects(new DOMPoint(e.right,e.top))||this.$intersects(new DOMPoint(e.left,e.bottom))||this.$intersects(new DOMPoint(e.right,e.bottom));throw new Error(`Unknown type(${e.constructor.name})`)}}}}h(fe,"dimensions");function he(a){let i=h(function(n){return typeof n[0]=="number"&&(n[1]??={},n[1].duration=n[0],n[0]=n[1]),Object.assign({initial:{},reset:!0},n[0])},"handleArguments"),e=new w,s=new w,t=new P;return t.addEventListener("alarm",function(){for(let[n,r]of s.entries())n.style.setProperty("will-change",r);s.clear()}),{[[Element.name,y.name]]:{$willChange(n,r=1e3){a.logger.assertInstanceOf(n,String,Array)(),a.logger.assertInstanceOf(r,Number)(),n=n instanceof Array?n:[n];let o=this.style.getPropertyValue("will-change");return s.getOrSet(this,()=>o),o&&n.push(o),this.style.setProperty("will-change",[...new Set(n)].join(",")),t.restart(r,1),this},async $transition(n,r){a.logger.assertInstanceOf(n,Object)(),a.logger.assertInstanceOf(r,b,Object)(),r=Object.assign({initial:{},reset:!1,duration:400,timing:"ease"},r);let o=e.getOrSet(this,()=>({count:0,style:this.getAttribute("style"),transitionValue:this.style.getPropertyValue("transition")??"",transitionPriority:this.style.getPropertyPriority("transition")??""}));o.count++;for(let[p,v]of Object.entries(r.initial))this.style.setProperty(p,v,"important");this.getClientRects();let l=(this.style.getPropertyValue("transition")??"").split(",").filter(p=>p);for(let[p,v]of Object.entries(n))this.style.setProperty(p,v,"important"),l.push(`${p} ${r.duration}ms ${r.timing}`);this.style.setProperty("transition",l.join(","),"important");let c,u,f=new E((p,v)=>{c=p,u=v}),m=h(()=>{this.removeEventListener("transitionend",$);let p=e.get(this);if(--p.count===0)if(e.delete(this),r.reset)this.setAttribute("style",p.style);else{this.style.setProperty("transition",p.transitionValue,p.transitionPriority);for(let[v,I]of Object.entries(n))this.style.setProperty(v,I,"")}},"complete"),g=new Set(Object.keys(n)),$=h(p=>{g.delete(p.propertyName),g.size===0&&(clearTimeout(T),m(),c(!0))},"listener"),T=setTimeout(function(){m(),c(!1)},r.duration+32);return this.addEventListener("transitionend",$),f},async $fadeIn(n=400,r={}){let o=i(arguments),l=this.$window.getComputedStyle(this);return o.initial=Object.assign(o.initial,{opacity:0}),this.$transition({opacity:l.opacity},o)},async $fadeOut(n=400,r={}){let o=i(arguments),l=this.$window.getComputedStyle(this);return o.initial=Object.assign(o.initial,{opacity:l.opacity}),this.$transition({opacity:0},o)},async $slideDown(n=400,r={}){let o=i(arguments),l=this.$window.getComputedStyle(this);return o.initial=Object.assign(o.initial,{overflow:"hidden",height:0,"margin-top":0,"margin-bottom":0,"padding-top":0,"padding-bottom":0}),this.$transition({height:parseFloat(l.height),"margin-top":parseFloat(l.marginTop),"margin-bottom":parseFloat(l.marginBottom),"padding-top":parseFloat(l.paddingTop),"padding-bottom":parseFloat(l.paddingBottom)},o)},async $slideUp(n=400,r={}){let o=i(arguments),l=this.$window.getComputedStyle(this);return o.initial=Object.assign(o.initial,{overflow:"hidden",height:parseFloat(l.height),"margin-top":parseFloat(l.marginTop),"margin-bottom":parseFloat(l.marginBottom),"padding-top":parseFloat(l.paddingTop),"padding-bottom":parseFloat(l.paddingBottom)}),this.$transition({height:0,"margin-top":0,"margin-bottom":0,"padding-top":0,"padding-bottom":0},o)},async $slideRight(n=400,r={}){let o=i(arguments),l=this.$window.getComputedStyle(this);return o.initial=Object.assign(o.initial,{overflow:"hidden",width:0,"margin-left":0,"margin-right":0,"padding-left":0,"padding-right":0,"max-height":parseFloat(l.height)}),this.$transition({width:parseFloat(l.width),"margin-left":parseFloat(l.marginLeft),"margin-right":parseFloat(l.marginRight),"padding-left":parseFloat(l.paddingLeft),"padding-right":parseFloat(l.paddingRight)},o)},async $slideLeft(n=400,r={}){let o=i(arguments),l=this.$window.getComputedStyle(this);return o.initial=Object.assign(o.initial,{overflow:"hidden",width:parseFloat(l.width),"margin-left":parseFloat(l.marginLeft),"margin-right":parseFloat(l.marginRight),"padding-left":parseFloat(l.paddingLeft),"padding-right":parseFloat(l.paddingRight),"max-height":parseFloat(l.height)}),this.$transition({width:0,"margin-left":0,"margin-right":0,"padding-left":0,"padding-right":0},o)}}}}h(he,"effects");function me(a){let i=h(function(e,s){let t=new Date(+e-e.getTimezoneOffset()*6e4);if(s==="notz")return t.toISOString().slice(0,-1);if(s==="full"){let n=e.getTimezoneOffset(),r=Math.abs(n),o=n>0?"-":"+",l=Math.trunc(r/60),c=r%60,u=`${o}${(""+l).padStart(2,"0")}:${(""+c).padStart(2,"0")}`;return t.toISOString().slice(0,-1)+u}if(s==="week"){let l=new Date(Math.trunc((+t+2592e5)/6048e5)*6048e5),c=l.getUTCFullYear(),u=Math.trunc((l-new Date(`${c}-01-01T00:00:00Z`))/6048e5)+1,f=(t.getUTCDay()+6)%7+1;return`${c}-W${(""+u).padStart(2,"0")}-${f}`}},"toLocalISOString");return{[[FormData.name]]:{$appendFromEntries(e){for(let[s,t]of d.objectToArrayEntries(e))this.append(s,t);return this},$toSearchParams(){let e=new URLSearchParams(this);for(let[s,t]of d.objectToEntries(this))t instanceof Blob&&(a.logger.info(`Unset ${s} because file`),e.set(s,""));return e},$toObject(){let e={},s=d.objectToEntries(this).map(([t,n])=>{let r=t.split(/\]\[|\[|\]/);r.length>1&&r.pop();let o=[];for(let[l,c]of r.entries()){if(!c.length){let u=o.join("[@]");e[u]??=0,r[l]=e[u]++}o.push(c)}return[r,n]});return d.entriesToObject(s,!1)},async $json(e="base64"){let s=await d.objectWalkRecursive(this.$toObject(),async function(t){return t instanceof Blob&&(t=function(){if(e==="text")return t.$text();if(e==="base64")return t.$base64();if(typeof e=="function")return e(t);throw new Error(`Unknown convert(${e})`)}()),t});return JSON.stringify(s)}},[[HTMLInputElement.name,y.name]]:{get $valueAsDate(){if(!this.value)return null;if(this.type==="datetime-local")return new Date(this.value);if("valueAsDate"in this)return new Date(this.valueAsDate.getTime()+this.valueAsDate.getTimezoneOffset()*6e4)},set $valueAsDate(e){if(e!=null){if(!(e instanceof Date)){this.valueAsDate=e;return}if(this.type==="datetime-local"){let s=i(e,"notz");this.value!==""?this.$value=s.slice(0,this.value.length):this.step?this.step.includes(".")?this.$value=s.slice(0,23):this.$value=s.slice(0,19):this.$value=s.slice(0,16);return}if(this.type==="month")return this.$value=i(e,"notz").slice(0,7);if(this.type==="week")return this.$value=i(e,"week").slice(0,8);if(this.type==="date")return this.$value=i(e,"notz").slice(0,10);if(this.type==="time"){let s=i(e,"notz");this.value!==""?this.$value=s.slice(11,11+this.value.length):this.step?this.step.includes(".")?this.$value=s.slice(11,23):this.$value=s.slice(11,19):this.$value=s.slice(11,16)}}},get $valueAsNumber(){return this.value?["datetime-local","month","week","date","time"].includes(this.type)?this.$valueAsDate.getTime():"valueAsNumber"in this?this.valueAsNumber:Number.NaN:Number.NaN},set $valueAsNumber(e){if(!(isNaN(e)||e==null)){if(["datetime-local","month","week","date","time"].includes(this.type))return this.$valueAsDate=new Date(+e);"valueAsNumber"in this&&(this.valueAsNumber=e)}}},[[HTMLInputElement.name,RadioNodeList.name,y.name]]:{get $indeterminate(){if(this instanceof RadioNodeList)return this.value==="";if(this.type==="checkbox")return this.indeterminate},set $indeterminate(e){if(a.logger.assertInstanceOf(e,Boolean,Array)(),this instanceof RadioNodeList){e||a.logger.error("RadioNodeList's $indeterminate is readonly"),this.forEach(s=>s.checked=!1);return}if(this.type==="checkbox"){if(!(e instanceof Array)){this.indeterminate=e;return}e=e.filter(s=>s!=null),e.length===0?this.indeterminate=!1:e.every(s=>!s)?(this.indeterminate=!1,this.$value=null):e.every(s=>s)?(this.indeterminate=!1,this.$value=this.value):this.indeterminate=!0}}},[[HTMLInputElement.name,HTMLTextAreaElement.name,HTMLSelectElement.name,y.name]]:{get $defaultValue(){if(["select-one"].includes(this.type))return Array.prototype.find.call(this.options,e=>e.defaultSelected)?.value??null;if(["select-multiple"].includes(this.type))return[...this.options].filter(e=>e.defaultSelected).map(e=>e.value);if(["radio","checkbox"].includes(this.type))return this.defaultChecked?this.value:null;if(["file"].includes(this.type))return this.multiple?[]:null;if(this.type)return this.defaultValue},set $defaultValue(e){if(["select-one"].includes(this.type)){e=""+e;for(let s of this.options)s.defaultSelected=s.value===e}else if(["select-multiple"].includes(this.type)){let s=(e instanceof Array?e:[e]).map(t=>""+t);for(let t of this.options)t.defaultSelected=s.includes(t.value)}else["radio","checkbox"].includes(this.type)?this.defaultChecked=this.value===e:["file"].includes(this.type)||this.type&&(this.defaultValue=e)},get $value(){if(["select-one"].includes(this.type))return Array.prototype.find.call(this.options,e=>e.selected)?.value??null;if(["select-multiple"].includes(this.type))return[...this.options].filter(e=>e.selected).map(e=>e.value);if(["radio","checkbox"].includes(this.type))return this.checked?this.value:null;if(["file"].includes(this.type))return this.multiple?this.files:this.files[0]??null;if(this.type)return this.value},set $value(e){let s=!1;if(["select-one"].includes(this.type))this.value!==e&&(this.value=e,s=!0);else if(["select-multiple"].includes(this.type)){let t=(e instanceof Array?e:[e]).filter(n=>n!==null).map(n=>""+n);for(let n of this.options){let r=t.includes(n.value);n.selected!==r&&(n.selected=r,s=!0)}}else if(["radio","checkbox"].includes(this.type)){let t=this.value===e;this.checked!==t&&(this.checked=t,s=!0)}else if(["file"].includes(this.type)){let t=Array.from(this.files,n=>n.name).join("/");if(e instanceof File){if(e.name!==t){let n=new DataTransfer;n.items.add(e),this.files=n.files,s=!0}}else e instanceof FileList&&Array.from(e,n=>n.name).join("/")!==t&&(this.files=e,s=!0)}else this.type&&this.value!==e&&(this.value=e,s=!0);s&&this.dispatchEvent(new Event("$change",{bubbles:!0}))},$clear(){return["select-one","select-multiple"].includes(this.type)?this.$value=null:["radio","checkbox"].includes(this.type)?this.$value=null:["file"].includes(this.type)?this.$value=new DataTransfer().files:this.type&&(this.$value=""),this},$resetAttribute(){return["select-one","select-multiple"].includes(this.type)?Array.from(this.options).forEach(e=>e.toggleAttribute("selected",e.selected)):this.type==="textarea"?this.textContent=this.value:["radio","checkbox"].includes(this.type)?this.toggleAttribute("checked",this.checked):this.setAttribute("value",this.value),this},get $selectedText(){if(this.type==="select-one")return this.selectedOptions[0]?.label??null;if(this.type==="select-multiple")return Array.from(this.selectedOptions).map(e=>e.label);if(this.selectionDirection)return this.value.substring(this.selectionStart,this.selectionEnd)},set $selectedText(e){if(this.type==="select-one")this.$value=Array.prototype.find.call(this.options,s=>s.label===e)?.value??null;else if(this.type==="select-multiple"){let s=(e instanceof Array?e:[e]).filter(t=>t!==null).map(t=>""+t);this.$value=Array.prototype.filter.call(this.options,t=>s.includes(t.label)).map(t=>t.value)}else this.selectionDirection&&e!==this.$selectedText&&(this.setRangeText(e,this.selectionStart,this.selectionEnd,"select"),this.dispatchEvent(new Event("$change",{bubbles:!0})))}},[[HTMLSelectElement.name,HTMLDataListElement.name,y.name]]:{$options(e,s=void 0){a.logger.assertInstanceOf(e,O,Array)(),s??=this instanceof HTMLSelectElement?"append":null,a.logger.assertInstanceOf(s,b,Boolean,String)(),this.$willChange("scroll-position");let t={top:this.scrollTop,left:this.scrollLeft},n=h(()=>{this.scrollTop=t.top,this.scrollLeft=t.left},"recover"),r=h(l=>{let c={},u=[];for(let[f,m]of d.objectToEntries(l))if(m instanceof Array)u.push(this.$document.$createElement("optgroup",{label:f},...r(m)));else if(m instanceof Node)m.value||=f,u.push(m);else if(d.objectIsPlain(m))if(m={...m},m.value??=f,m.title??=m.label,m.optgroup){let g=m.optgroup;delete m.optgroup,c[g]||(c[g]=this.$document.$createElement("optgroup",{label:g}),u.push(c[g])),c[g].append(this.$document.$createElement("option",m,m.label))}else u.push(this.$document.$createElement("option",m,m.label));else u.push(this.$document.$createElement("option",{value:f,title:m},m));return u},"build");e=r(e);let o=s?this.$value:null;if(s&&typeof s=="string"){let l=(o instanceof Array?o:[o]).filter(u=>u!=null).map(u=>""+u);this.$$("option").$except(u=>l.includes(u.value)).forEach(u=>u.remove()),this.$$("optgroup").$except(u=>u.$contains("option")).forEach(u=>u.remove()),this.$$("hr.kQuery-option-separator").forEach(u=>u.remove());for(let u of this.$$("optgroup")){let f=u.$nextElements(`optgroup[label="${d.stringEscape(u.label??"","selector")}"]`);for(let m of[...f])u[s](...m.$$("option")),m.$contains("option")||m.remove()}this[s](this.$document.$createElement("hr",{class:"kQuery-option-separator"})),this[s](...e);let c=h(function(u){return u.filter(f=>f instanceof HTMLOptionElement&&l.includes(f.value)||f instanceof HTMLOptGroupElement&&!c([...f.$$("option")]).length?(f.remove(),!1):!0)},"filter");c(e)}else this.$replaceChildren(...e);return s&&(this.$value=o),requestAnimationFrame(()=>requestAnimationFrame(n)),this}},[[HTMLSelectElement.name,y.name]]:{get $selectedOptions(){return Array.from(this.selectedOptions).reduce((e,s)=>(e[s.value]=s.label,e),Object.create(null))}},[[HTMLFormElement.name,y.name]]:{$resetAttribute(){return this.elements.$resetAttribute(),this}}}}h(me,"forms");function ge(a){let i=new Map,e=new w,s=h(function(n){return[...n].flatMap(r=>r instanceof NodeList?[...r]:r)},"normalizeNodes");class t{static{h(this,"Value")}constructor(r){this.value=r}toString(){return""+this.value}}return{[[Window.name]]:{$query(n,r=null){if(r??=(this??globalThis).document,n instanceof Node||n instanceof NodeList)return n;if(n instanceof HTMLCollection)return d.iterableToNodeList(n);if(n instanceof Array){let l=n.map(u=>r.defaultView.$query(u,r)),c=[...new Set(l.flatMap(u=>u instanceof Node?[u]:[...u]))];return c.length===1?c[0]:d.iterableToNodeList(c)}if(typeof n=="string"&&n.trim().charAt(0)==="<"){let l=r.$createNodeListFromHTML(n.trim());return l.length===1?l[0]:l}let o=r.$$(n);return o.length===1?o[0]:o}},[[Document.name]]:{$createNodeListFromHTML(n){a.logger.assertInstanceOf(n,String)();let r=this.createElement("template");return r.innerHTML=n,d.iterableToNodeList([...r.content.childNodes])},$createElement(n,r={},...o){a.logger.assertInstanceOf(n,String)(),a.logger.assertInstanceOf(r,Object)(),r.class=d.objectToClasses(r.class??[]),n=n.replaceAll(/\#([-_0-9a-z]+)/ig,function(c,u){return r.id=u,""}),n=n.replaceAll(/\.([-_0-9a-z]+)/ig,function(c,u){return r.class[u]=!0,""}),n=n.replaceAll(/\[([-_0-9a-z]+)(=(.+?))?\]/ig,function(c,u,f,m){return r[u]=m??"",""});let l=this.createElement(n);for(let[c,u]of Object.entries(d.objectToAttributes(r)))typeof u=="boolean"?l.toggleAttribute(c,u):l.setAttribute(c,u);return l.$append(...o),l},$createCSSRule(n){if(!i.has(n)){let l=new CSSStyleSheet({baseURL:this.location.href,media:n});i.set(n,l),this.adoptedStyleSheets=[...this.adoptedStyleSheets,l]}let r=i.get(n),o=r.insertRule(":root {}");return r.cssRules.item(o)}},[[HTMLTemplateElement.name,y.name]]:{$render(n,r={}){r=Object.assign({escape:"html",logical:"---logical<false/>---",insert:"after"},r);let o=h(function(u){if(r.logical){if(u===!1)return r.logical;if(u===!0)return""}return typeof u=="object"&&!(u instanceof t)?u:typeof r.escape=="function"?r.escape(u):d.stringEscape(u,r.escape)},"tag"),l=h(function(u,f){if(!u)return[];u instanceof Array||(u=[u]);let m=[];for(let[g,$]of u.entries()){let T=this.content.cloneNode(!0);d.anyIsPrimitive($)&&($=new t($)),Object.assign($,{$parent:f,$index:g,$length:u.length,$first:g===0,$last:g===u.length-1});let p=T.$$("template[data-slot-name]");for(let M of p)M.after(...l.call(M,$[M.dataset.slotName],$)),M.remove();a.logger.assert(()=>T.$contains(M=>!M.$isMetadataContent))();let v=[...T.childNodes].join(""),I=d.stringRender(v,$,o),L=this.$document.$createNodeListFromHTML(I);if(r.logical)for(let M of L.$$$("*"))for(let z of Array.from(M.attributes))z.value===r.logical&&M.attributes.removeNamedItem(z.name);m.push(...L)}return m},"core"),c=l.call(this,n,null);return r.insert&&((e.reset(this,()=>c)??[]).forEach(f=>f.remove()),this[r.insert](...c)),d.iterableToNodeList(c)}},[[Node.name,y.name]]:{$clone(n=!1){if(!n)return this.cloneNode(!0);let r=this.cloneNode(!1);for(let o of this.$events(null,!1,!1))r.$on(o.type+o.namespaces.map(l=>`.${l}`).join(),o.selector,o.listener,o.options);for(let o of this.childNodes)o instanceof Element?r.appendChild(o.$clone(!0)):r.appendChild(o.cloneNode(!0));return r},$before(...n){return this.before(...s(n)),this},$prepend(...n){return this.prepend(...s(n)),this},$insert(n,...r){return this.$childElement(n)?.$before?.(...s(r)),this},$append(...n){return this.append(...s(n)),this},$after(...n){return this.after(...s(n)),this},$replace(...n){return this.replaceWith(...s(n)),this},$replaceChild(n,...r){return this.$insert(n,...r),this.$childElement(n)?.remove(),this},$replaceChildren(...n){return this.replaceChildren(...s(n)),this},$trim(){return this.normalize(),this.firstChild?.nodeType===Node.TEXT_NODE&&this.firstChild.nodeValue.trim()===""&&this.firstChild.remove(),this.lastChild?.nodeType===Node.TEXT_NODE&&this.lastChild.nodeValue.trim()===""&&this.lastChild.remove(),this},$wrap(n){return this.parentNode.insertBefore(n,this),n.appendChild(this),this},$unwrap(){return this.parentNode.$unwrapChildren(),this},$unwrapChildren(){return this.replaceWith(...this.childNodes),this}}}}h(ge,"manipulation");function pe(a){let i=new w,e=h(function(t){for(let[n,r]of i.entries())t.target.$matches(r)&&(n.$indeterminate=window.$query(r).$filter("[type=checkbox]").checked)},"documentChange"),s=!1;return{[[Window.name]]:{$open(t){a.logger.assertInstanceOf(t,Object)(),t=Object.assign({url:void 0,target:void 0,window:!0,left:"auto",top:"auto",width:"auto",height:"auto",noopener:void 0,noreferrer:void 0},t),t.width==="auto"&&(t.width=this.outerWidth/2),t.height==="auto"&&(t.height=this.outerHeight/2),t.left==="auto"&&t.width&&(t.left=(this.outerWidth-t.width)/2),t.top==="auto"&&t.height&&(t.top=(this.outerHeight-t.height)/2),t.window&&t.left!=null&&(t.left+=this.screenX),t.window&&t.top!=null&&(t.top+=this.screenY);let n=t.url,r=t.target;d.objectWalkRecursive(t,function(l,c){if(!(["url","target","window"].includes(c)||l===!1))return l});let o=d.objectJoin(t,",");return a.logger.debug("windowFeature",o),this.open(n,r,o)}},[[Element.name,y.name]]:{get $isMetadataContent(){return["base","link","meta","noscript","script","style","template","title"].includes(this.localName.toLowerCase())},$outerTag(t=!0){let n=this.localName,r=""+this.$attrs,o=`<${n}${r?" "+r:""}>`;return t&&(o+=`</${n}>`),o},$markText(t,n,r){a.logger.assertInstanceOf(t,String,RegExp)(),a.logger.assertInstanceOf(n,b,String,Element)(),t instanceof RegExp||(t=new RegExp(d.stringEscape(t,"regex"))),n instanceof Element||(n=this.$document.$createElement(n??"mark"));let o=h(l=>{for(let c of l.children)c.$isMetadataContent||r!=null&&c.$matches(r)||c.$outerTag(!1)===n.$outerTag(!1)||o(c);for(let c of l.childNodes)if(c instanceof CharacterData){let u=c.nodeValue.match(t);if(u){let f=c.splitText(u.index);f.splitText(u[0].length),f.$wrap(n.$clone(!0))}}return l},"core");return this.normalize(),o(this)},async $scrollIntoView(t={}){return a.logger.assertInstanceOf(t,Object)(),t=Object.assign({behavior:void 0,block:void 0,inline:void 0,global:!0,timeout:void 0,threshold:void 0,ifNeeded:!1},t),t.global&&s?E.resolve(!1):new E((n,r)=>{let o=new V((c,u)=>{if(!u&&c.isIntersecting&&t.ifNeeded){n(!1),o.unobserve(c.target);return}c.target.scrollIntoView(t),s=!0,c.isIntersecting&&(l?.stop(),o.unobserve(c.target),s=!1,n(!0))},{threshold:t.threshold??0}),l=t.timeout?new P:null;l?.addEventListener("alarm",c=>{o.unobserve(this),s=!1,r(this)}),l?.start(t.timeout),o.observe(this)})}},[[HTMLInputElement.name,y.name]]:{$interlock(t){if(a.logger.assertInstanceOf(t,b,String)(),this.type!=="checkbox")return this;if(t==null){let n=i.get(this);if(n==null)throw new Error(this+" is not have child selector");this.$indeterminate=window.$query(n).$filter("[type=checkbox]").checked}else i.set(this,t),this.$indeterminate=window.$query(t).$filter("[type=checkbox]").checked,["change","$change"].forEach(n=>{this.$document.addEventListener(n,e),this.addEventListener(n,r=>{let o=r.target,l=window.$query(t).$filter("[type=checkbox]");for(let c of l)c.$value=o.checked?c.value:null})});return this}},[[HTMLDialogElement.name,y.name]]:{$showModal(t={}){return a.logger.assertInstanceOf(t,Object)(),t=Object.assign({outside:!1,escape:!0},t),new E((n,r)=>{let o=h(f=>{f.target.removeEventListener("close",o),f.target.removeEventListener("cancel",l),f.target.removeEventListener("click",c),f.target.removeEventListener("keydown",u),n(f.target.returnValue)},"close"),l=h(f=>{f.target.removeEventListener("close",o),f.target.removeEventListener("cancel",l),f.target.removeEventListener("click",c),f.target.removeEventListener("keydown",u),n(null)},"cancel"),c=h(f=>{this.getBoundingClientRect().$contains(new DOMPointReadOnly(f.clientX,f.clientY))||(this.close(null),this.dispatchEvent(new Event("cancel",{bubbles:!1,cancelable:!0,composed:!1})))},"onOutside"),u=h(f=>{f.code==="Escape"&&f.preventDefault()},"onEscape");this.returnValue="",this.showModal(),this.addEventListener("close",o,{once:!0}),this.addEventListener("cancel",l,{once:!0}),t.outside&&this.addEventListener("click",c),t.escape||this.addEventListener("keydown",u)})}},[[HTMLCollection.name,NodeList.name,FileList.name,DataTransferItemList.name]]:{$at(t){return a.logger.assertInstanceOf(t,Number)(),Array.prototype.at.call(this,t)},async $asyncMap(t){return a.logger.assertInstanceOf(t,Function)(),E.all(d.objectToEntries(this).map(([n,r])=>t(r,n,this)))}}}}h(pe,"miscellaneous");function be(a){class i extends globalThis.EventSource{static{h(this,"EventSource")}static selfSources={};#e;constructor(n,r){super(n,r),a.logger.debug(`SSE open ${this.url}`),this.#e={};let o=setInterval(()=>{Object.values(this.#e).find(l=>l.size>0)||(delete i.selfSources[this.url],this.close(),clearInterval(o),a.logger.debug(`SSE close ${this.url}`))},1e4)}$listen(n,r,o){let l=this.#e[r]??=new w;if(a.logger.assert(c=>!l.get(c)?.length,n)("Multiple listening on SSE is not recommended."),l.size===0){a.logger.debug(`SSE listen ${this.url}#${r}`);let c=new AbortController;this.addEventListener(r,u=>{for(let[f,m]of l.entries())for(let g of m)g.call(f,u);l.size===0&&(a.logger.debug(`SSE unlisten ${this.url}#${r}`),c.abort())},{signal:c.signal})}this.#e[r].getOrSet(n,()=>[]).push(o)}$unlisten(n,r){this.#e[r]?.delete(n)}}let e=new w,s=new w;return{[[Window.name]]:{get $ajax(){let t=h(function(r,...o){for(let l of o){if(l.headers){r.headers??={};for(let[u,f]of d.objectToArrayEntries(l.headers))r.headers[u]=f}let c=r.headers;Object.assign(r,l),r.headers=c}return r},"mergeWithHeaders"),n=h(function(r){let o=h(function(){},"$Ajax");return o.defaultOptions=r,o},"$Ajax");return e.getOrSet(this,()=>new S(n(Object.create(null)),{get(r,o){return function(l,c){return c=t({method:o},r.defaultOptions,c),c.progress||c.async===!1?d.xhr(l,c):d.fetch(l,c)}},apply(r,o,l){return new S(n(t({},r.defaultOptions,...l)),this)}}))},set $ajax(t){}},[[Node.name,y.name]]:{$listen(t,n,r={}){r=Object.assign({credentials:!1},r),t=new URL(t,this.baseURI);let o=t.hash.substring(1)||"message";t.hash="";let l=i.selfSources[t]??=new i(t,{withCredentials:r.credentials});return l.withCredentials!==!!r.credentials&&a.logger.error("SSE url(credentials) is difference"),l.$listen(this,o,n),this},$unlisten(t){t=new URL(t,this.baseURI);let n=t.hash.substring(1)||"message";return t.hash="",i.selfSources[t]?.$unlisten(this,n),this},$polling(t,n,r={}){a.logger.assert(g=>!s.get(g)?.[t]?.length,this)("Multiple polling is not recommended.");let{interval:o,invisible:l,status:c,retry:u}=d.objectDeleteProperties(r,{interval:10*1e3,invisible:!1,retry:["network","response"],status:[200]}),f=new WeakRef(this),m=h(async()=>{let g=f.deref();if(!g)return;if(g.isConnected&&(l||g.$checkVisibility({size:!1},!0)))try{let p=await d.fetch(t,r);c.includes(p.status)&&n.call(this,p)}catch(p){if(!(u.includes("always")||u.includes("network")&&!(p.cause instanceof Response)||u.includes("response")&&p.cause instanceof Response&&![p.cause.status].includes(503,504)))throw p;a.logger.warn(`failed poll request ${t} but will continue polling`)}else a.logger.info(`skipped poll request ${t} by invisible`);let $=setTimeout(m,o),T=s.getOrSet(g,()=>({}));T[t]??=[],T[t].push($)},"request");return m().catch(g=>a.logger.error(g)),this},$unpolling(t){let n=s.get(this);if(n?.[t]){for(let r of n[t]??[])clearTimeout(r);delete n[t],s.set(this,n)}return this}},[[HTMLAnchorElement.name,y.name]]:{$submit(t={}){a.logger.assertInstanceOf(t,Object)(),t=Object.assign({async:!1,form:void 0,method:void 0,enctype:"application/x-www-form-urlencoded",novalidate:!1,data:{}},t),a.logger.assertInstanceOf(t.data,O)();let n=this.$URL,r=new FormData;r.$appendFromEntries(n.searchParams),r.$appendFromEntries(t.data),n.search="";let o=t.form??this.$document.$createElement("form",{action:n,method:t.method??"post",enctype:t.enctype,target:this.target,hidden:!0}),l;if(t.form)l=this.$document.$createElement("button",{type:"submit",formaction:n,formtarget:this.target,formmethod:t.method??o.getAttribute("method")??"post",formenctype:t.enctype,formnovalidate:t.novalidate}),o.append(l);else for(let[c,u]of r){let f=this.$document.$createElement("input",{type:"hidden"});f.name=c,f.value=u,o.append(f)}if(t.async||this.download){let c={};l&&(c.data=r,c.submitter=l);try{let u=o.$request(c);return l?.remove(),this.download&&this.download&&!t.raw?u.then(f=>{if(!f.ok)throw new Error(`${f.status}: ${f.statusText}`,{cause:f});f.blob().then(m=>(m.$download(this.download),this))}):u}finally{l?.remove()}}return l?(o.requestSubmit(l),l.remove()):(this.$document.body.append(o),o.submit(),o.remove()),this}},[[HTMLFormElement.name,y.name]]:{async $request(t={}){if(a.logger.assertInstanceOf(t,Object)(),t=Object.assign({url:void 0,method:void 0,enctype:void 0,novalidate:void 0,submitter:void 0,data:{},fileConverter:void 0,ok:!1,timeout:0},t),t.headers instanceof Headers||(t.headers=new Headers(t.headers??{})),a.logger.assertInstanceOf(t.headers,Headers)(),a.logger.assertInstanceOf(t.data,O)(),!(t.novalidate??(t.submitter?.formNoValidate||this.noValidate||!1))&&!this.reportValidity())throw new Error("Invalid form");let r=t.url??t.submitter?.getAttribute("formaction")??this.getAttribute("action")??"",o=t.method??t.submitter?.getAttribute("formmethod")??this.getAttribute("method")??"GET",l=t.enctype??t.headers.get("content-type")??t.submitter?.getAttribute("formenctype")??this.getAttribute("enctype")??"application/x-www-form-urlencoded";t.method=o.toUpperCase(),t.headers.set("content-type",l);let c=new URL(r,this.baseURI),u=new FormData(this,t.submitter);for(let[f,m]of d.objectToEntries(t.data))u.append(f,m);if(t.method==="GET")for(let[f,m]of u.$toSearchParams())c.searchParams.append(f,m);else if(l.startsWith("application/x-www-form-urlencoded"))t.headers.delete("content-type"),t.body=u.$toSearchParams();else if(l.startsWith("multipart/form-data"))t.headers.delete("content-type"),t.body=u;else if(l.startsWith("application/json"))t.body=await u.$json(t.fileConverter);else throw new Error(`Unknown enctype(${l})`);return await d.fetch(c,t)}},[[Element.name,y.name]]:{async $load(t,n={}){d.anyIsStringable(t)?n.url=t:n=t,a.logger.assertInstanceOf(n,Object)(),n=Object.assign({url:void 0,method:void 0,data:{},ok:!1,timeout:0},n),n.headers instanceof Headers||(n.headers=new Headers(n.headers??{})),a.logger.assertInstanceOf(n.url,String)(),a.logger.assertInstanceOf(n.headers,Headers)(),a.logger.assertInstanceOf(n.data,Object,FormData)();let r=n.url.split(" "),o=new URL(r.shift(),this.baseURI),l=r.join(" "),c=(n.method??"GET").toUpperCase(),u=d.objectToEntries(n.data).map(([g,$])=>[g,$ instanceof Function?$(this):$]);if(c==="GET")for(let[g,$]of u)o.searchParams.append(g,$);else n.headers.delete("content-type"),n.body=new URLSearchParams(u);let f=await d.fetch(o,n),m=this.$document.$createNodeListFromHTML(await f.text());return l&&(m=m.$$(l)),this.$replaceChildren(m),m}},[[Blob.name]]:{async $upload(t,n={}){let r;if(d.anyIsStringable(t)?r=t:r=n.url,a.logger.assertInstanceOf(n,Object)(),n=Object.assign({method:"PUT",headers:{}},n),n.headers instanceof Headers||(n.headers=new Headers(n.headers)),n.method.toUpperCase()==="POST"){let o=new FormData;o.append(n.name??"tmp",this),n.body=o}else n.headers.set("x-file-path",encodeURIComponent(this.webkitRelativePath)),n.headers.set("x-file-name",encodeURIComponent(this.name)),n.headers.set("x-file-size",this.size),n.headers.set("x-file-type",this.type),n.body=this;return d.xhr(r,n)}},[[FileList.name]]:{async $upload(t,n={}){let r;if(d.anyIsStringable(t)?r=t:r=n.url,a.logger.assertInstanceOf(n,Object)(),n=Object.assign({method:"POST",timeout:0,ok:!1,headers:{},credentials:"same-origin",progress:h(()=>null,"progress"),concurrency:6},n),n.method.toUpperCase()==="POST"){let o=new FormData;for(let l of this)o.append((n.name??"tmp")+"[]",l);return n.body=o,[await d.xhr(r,n)]}return E.concurrencyAll(Array.from(this).map(o=>()=>o.$upload(r,n)),n.concurrency)}}}}h(be,"networks");function ye(a){let i=h(function*(e,s,t){a.logger.assertInstanceOf(e,Node)();for(let n=e[t];n;n=n[t])(s==null||n.$matches(s))&&(yield n)},"nodeGenerateSiblings");return{[[Document.name,DocumentFragment.name,Element.name]]:{$(e){return a.logger.assertInstanceOf(e,String,Function)(),typeof e=="function"?Array.prototype.find.call(this.$$("*"),e)??null:this.querySelector(e)},$$(e){return a.logger.assertInstanceOf(e,String,Function)(),typeof e=="function"?d.iterableToNodeList([...this.$$("*")].filter(e)):this.querySelectorAll(e)},$$$(e){a.logger.assertInstanceOf(e,String,Function)();let s=this.$matches(e)?[this]:[];return typeof e=="function"?d.iterableToNodeList([...s,...[...this.$$("*")].filter(e)]):d.iterableToNodeList([...s,...this.$$(e)])},$contains(e){return a.logger.assertInstanceOf(e,String,Node,Function)(),e instanceof Node?this.contains(e):typeof e=="string"?!!(this.matches(e)||this.querySelector(e)):this.$$$(e).length>0},$matches(e){return a.logger.assertInstanceOf(e,String,Node,Function)(),typeof e=="function"?!!e.call(this,this):e instanceof Node?this===e:this.matches(e)}},[[NodeList.name]]:{$(e){a.logger.assertInstanceOf(e,String,Function)();for(let s of this){let t=s.$?.(e);if(t)return t}return null},$$(e){return a.logger.assertInstanceOf(e,String,Function)(),d.iterableToNodeList(new Set([...this].flatMap(s=>[...s.$$?.(e)??[]])))},$$$(e){return a.logger.assertInstanceOf(e,String,Function)(),d.iterableToNodeList(new Set([...this].flatMap(s=>[...s.$$$?.(e)??[]])))},$contains(e){return a.logger.assertInstanceOf(e,String,Element,Function)(),!!Array.prototype.find.call(this,s=>s.$contains?.(e))},$matches(e){return a.logger.assertInstanceOf(e,String,Element,Function)(),Array.prototype.find.call(this,s=>s.$matches?.(e))},$index(e){a.logger.assertInstanceOf(e,String,Node,Function)();let s=Array.prototype.findIndex.call(this,t=>t.$matches?.(e)??!1);return s===-1?null:s},$filter(e){return a.logger.assertInstanceOf(e,String,Function)(),d.iterableToNodeList([...this].filter(s=>s.$matches?.(e)??!1))},$except(e){return a.logger.assertInstanceOf(e,String,Function)(),d.iterableToNodeList([...this].filter(s=>!(s.$matches?.(e)??!0)))},$slice(e,s){return a.logger.assertInstanceOf(e,b,Number,String,Node,Function)(),a.logger.assertInstanceOf(s,b,Number,String,Node,Function)(),e!=null&&typeof e!="number"&&(e=this.$index(e)??void 0),s!=null&&typeof s!="number"&&(s=this.$index(s)??void 0),d.iterableToNodeList(Array.prototype.slice.call(this,e,s))}},[[Node.name,y.name]]:{get $window(){return this.ownerDocument?.defaultView??window},get $document(){return this.ownerDocument??window.document},$textNodes(e=[Node.TEXT_NODE,Node.COMMENT_NODE,Node.CDATA_SECTION_NODE]){a.logger.assertElementsOf(e,[Node.TEXT_NODE,Node.COMMENT_NODE,Node.CDATA_SECTION_NODE,"metadata"])();let s=[];for(let t of this.childNodes)t instanceof CharacterData?e.includes(t.nodeType)&&s.push(t):(e.includes("metadata")||!t.$isMetadataContent)&&s.push(...t.$textNodes(e));return d.iterableToNodeList(s)},$closest(e){if(a.logger.assertInstanceOf(e,String,Element,Function)(),typeof e=="string")return this.closest(e);for(let s=this;s!=null;s=s.parentElement)if(s.$matches(e))return s;return null},$parents(e){a.logger.assertInstanceOf(e,b,String,Function)();let s=[];for(let t=this.parentElement;t!=null;t=t.parentElement)(e==null||t.$matches(e))&&s.push(t);return d.iterableToNodeList(s)},$childElement(e){if(a.logger.assertInstanceOf(e,b,Number,String,Element,Function)(),typeof e=="number")return this.children.$at(e);for(let s of this.children)if(e==null||s.$matches(e))return s;return null},$childElements(e){a.logger.assertInstanceOf(e,b,String,Function)();let s=d.iterableToNodeList(this.children);return e==null?s:s.$filter(e)},$prevElement(e){return a.logger.assertInstanceOf(e,b,String,Function)(),i(this,e,"previousElementSibling").next().value??null},$prevElements(e){return a.logger.assertInstanceOf(e,b,String,Function)(),d.iterableToNodeList([...i(this,e,"previousElementSibling")].reverse())},$nextElement(e){return a.logger.assertInstanceOf(e,b,String,Function)(),i(this,e,"nextElementSibling").next().value??null},$nextElements(e){return a.logger.assertInstanceOf(e,b,String,Function)(),d.iterableToNodeList(i(this,e,"nextElementSibling"))},$siblingElements(e){return a.logger.assertInstanceOf(e,b,String,Node,Function)(),d.iterableToNodeList([...this.parentNode.children].filter(s=>s!==this&&(e==null||s.$matches?.(e))))}},[[HTMLInputElement.name,y.name]]:{get $radioNodeList(){if(this.type!=="radio"||!this.form)return;let e=this.form,s=this.name,t=e.elements[s];if(t instanceof RadioNodeList)return t;let n=this.$document.$createElement("input",{type:"radio",name:s,hidden:!0});this.insertAdjacentElement("afterend",n);try{return e.elements[s]}finally{n.remove()}}}}}h(ye,"traversing");var j=new se(document.currentScript);j.logger.time("register Plugins");j.extends(le);j.extends(ce);j.extends(ue);j.extends(de);j.extends(me);j.extends(ye);j.extends(ge);j.extends(fe);j.extends(he);j.extends(be);j.extends(pe);j.logger.timeEnd("register Plugins");Object.assign(j.customEvents,{attribute:X,child:G,cookie:J,disable:Y,flick:Z,intersect:Q,resize:ee,swipe:te,visible:ne});var mn=j;})();
/**!
 * kQuery
 *
 * @file
 * @license MIT
 * @copyright ryunosuke
 * @ignore
 */
/**
 * @typedef {{
 *     url?: String,
 *     target?: String,
 *     window?: Boolean,
 *     left?: String|Number,
 *     top?: String|Number,
 *     width?: String|Number,
 *     height?: String|Number,
 *     noopener?: String,
 *     noreferrer?: String,
 * }} WindowOpenOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {(url:String, options?:RequestInit) => Promise<Response>} HttpRequest
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     head: HttpRequest,
 *     get: HttpRequest,
 *     post: HttpRequest,
 *     put: HttpRequest,
 *     patch: HttpRequest,
 *     delete: HttpRequest,
 * }} HttpMethods
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     credentials?: Boolean,
 * }} ListenOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     interval?: Number,
 *     invisible?: Boolean,
 *     retry?: String[],
 *     status?: Number[],
 * }} PollingOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     async?: Boolean,
 *     form?: HTMLFormElement,
 *     method?: String,
 *     enctype?: String,
 *     novalidate?: Boolean,
 *     data?: Dictionary,
 * }} SubmitOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     url?: String,
 *     method?: String,
 *     enctype?: String,
 *     novalidate?: Boolean,
 *     submitter?: HTMLElement,
 *     data?: Dictionary,
 *     fileConverter?: String|Function,
 *     timeout?: Number,
 * }} RequestOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     once?: Boolean,
 *     capture?: Boolean,
 *     passive?: Boolean,
 *     signal?: AbortSignal,
 *     ownself: Boolean,
 *     interval: Number,
 *     throttle: Number,
 *     debounce: Number,
 *     leading: Boolean,
 *     trailing: Boolean,
 * }} ListenerOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     bubbles?: Boolean,
 *     cancelable?: Boolean,
 *     composed?: Boolean,
 * }} EventOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     initial?: Object,
 *     reset?: Boolean,
 *     duration?: Number,
 *     timing?: String,
 * }} TransitionOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *   relative?: Boolean,
 *   margin?: Boolean,
 * }} OffsetOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     scroll?: Boolean,
 *     margin?: Boolean,
 *     border?: Boolean,
 *     padding?: Boolean,
 *     scrollbar?: Boolean,
 * }} SizeOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     document?: Boolean,
 *     contentVisibilityAuto?: Boolean,
 *     contentVisibilityProperty?: Boolean,
 *     opacityProperty?: Boolean,
 *     visibilityProperty?: Boolean,
 *     size?: Boolean,
 *     intersection?: Boolean,
 * }} VisibilityOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {{
 *     outside?: Boolean,
 *     escape?: Boolean,
 * }} DialogModelOptions
 * @ignore
 * @preserve
 */
/**
 * @typedef {Object|Dictionary} Dictionary
 * @ignore
 * @preserve
 */
//# sourceMappingURL=kQuery-full.min.js.map
